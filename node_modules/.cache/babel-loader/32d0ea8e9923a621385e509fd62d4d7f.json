{"ast":null,"code":"var _jsxFileName = \"/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js\";\nimport React from 'react';\nimport logo from \"./logowithtext.svg\";\nimport './App.css';\nimport { withAuthorization } from '../Session';\nimport { Modal, ModalManager, Effect } from 'react-dynamic-modal';\nimport * as firebase from 'firebase';\n\nrequire('@firebase/database');\n\nfunction Logo() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    width: \"100%\",\n    src: logo,\n    alt: \"Modulus Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction CourseListItem(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courselistitem\",\n    onClick: () => {\n      props.changeActiveCourse(props.name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, props.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  })));\n}\n\nfunction AddCourseItem(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseitem\",\n    onClick: props.addCourseMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"+\");\n}\n\nclass Sidebar extends React.Component {\n  //the entire left sidebar\n  constructor(props) {\n    super(props);\n\n    this.changeActiveCourse = name => {\n      this.props.changeActiveCourse(name);\n    };\n\n    this.addCourseMode = () => {\n      this.props.addCourseMode();\n    };\n\n    this.state = {\n      username: props.username,\n      activeCourse: props.activeCourse,\n      arrCourses: props.arrCourses\n    };\n  } //utility functions to pass info up to container\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebarheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 52\n      }\n    }, \"Your courses:\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courselist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, this.props.arrCourses.map(course => /*#__PURE__*/React.createElement(CourseListItem, {\n      name: course,\n      active: this.props.activeCourse === course ? \"active\" : \"\",\n      changeActiveCourse: this.changeActiveCourse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 57\n      }\n    })), /*#__PURE__*/React.createElement(AddCourseItem, {\n      addCourseMode: this.addCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    }))));\n  }\n\n}\n\nclass MyModal extends React.Component {\n  render() {\n    const {\n      text,\n      onRequestClose\n    } = this.props;\n    var internalDisplay = \"\"; //set this to the appropriate stuff based on this.props.internal and vark\n\n    var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n    var afterCode = \"\\\">Click here to open content in new tab</a>\";\n    var code = beforeCode + this.props.internal + afterCode; //this be the gaey code\n\n    internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: code\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }); // if (this.props.vark===\"V\") { //once we have non-gaey code, we can properly implement internals, but for now we'll just embed external services\n    // }\n    //  if (this.props.vark===\"A\") { \n    //  }\n    // if (this.props.vark===\"R\") {\n    // }\n    // if (this.props.vark===\"K\") {\n    // }\n\n    return /*#__PURE__*/React.createElement(Modal, {\n      className: \"modaldialog\",\n      onRequestClose: onRequestClose,\n      effect: Effect.ScaleUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"modaldialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      style: {\n        maxHeight: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"backbutton\",\n      onClick: ModalManager.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, \"\\u2190\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 26\n      }\n    }, internalDisplay)))));\n  }\n\n}\n\nclass ModuleContentItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  openModal() {\n    const header = this.props.name;\n    ModalManager.open( /*#__PURE__*/React.createElement(MyModal, {\n      text: header,\n      internal: this.props.internal,\n      vark: this.props.vark,\n      onRequestClose: () => true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 27\n      }\n    }));\n  } // const [openedStatus, open] = React.useState(\"\");\n  // React.useEffect(() => { \n  //    //open item view\n  // });\n  // let precede;\n  // if (openedStatus===\"active\") {\n  //     precede = openedStatus;\n  // } else {\n  //     precede = props.vark;\n  // }\n  //var attribute = precede+\"modulecontentitem\"\n\n\n  render() {\n    let precede = this.props.vark;\n    var attribute = precede + \"modulecontentitem\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: attribute,\n      onClick: () => this.openModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, this.props.name);\n  }\n\n}\n\nfunction ModuleItem(props) {\n  const [active, setActive] = React.useState(props.active);\n  var attribute = active + \"moduleitem\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: attribute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"moduletitle\",\n    onClick: () => setActive(active === \"active\" ? \"\" : \"active\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, props.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modulecontents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, props.contents.map(contentitem => /*#__PURE__*/React.createElement(ModuleContentItem, {\n    name: contentitem,\n    vark: props.vark[props.contents.indexOf(contentitem)],\n    internal: props.internals[props.contents.indexOf(contentitem)],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }))));\n}\n\nclass MainPanel extends React.Component {\n  //the entire right half of the screen where all the modules are\n  constructor(props) {\n    super(props);\n    this.handleRemove = this.handleRemove.bind(this);\n  }\n\n  handleRemove(event) {\n    this.props.removeCourse(this.props.activeCourse);\n  }\n\n  render() {\n    //active: \"\" means the module is minimized, \"active\" means its expanded\n    var welcomeMsg;\n    var unenroll;\n\n    if (this.props.activeCourse === \"none\") {\n      welcomeMsg = \"Select or add a course on the left to get started.\";\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      });\n    } else {\n      welcomeMsg = \"Welcome to \" + this.props.activeCourse;\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"removecoursebutton\",\n        onClick: this.handleRemove,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }, \"Unenroll\");\n\n      if (welcomeMsg === \"Welcome to Welcome\") {\n        welcomeMsg = \"Welcome to Modulus!\";\n        unenroll = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 21\n          }\n        });\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainpanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courseheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, welcomeMsg)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"rightalign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    }, unenroll))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modulelist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }, Object.values(this.props.modules).map(module => /*#__PURE__*/React.createElement(ModuleItem, {\n      name: module.title,\n      contents: module.contents,\n      vark: module.vark,\n      internals: module.internals,\n      active: \"\",\n      username: this.props.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n    let shouldAddCourse = false; //check that the course is available on the database. If not, throw an error to the user\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === this.state.value) {\n        shouldAddCourse = true;\n      }\n    }\n\n    if (shouldAddCourse) {\n      this.props.addCourse(this.state.value);\n    } else {\n      alert('Sorry, class not found');\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, \"Enter the course name below\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nfunction AddCoursePanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcoursetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  }, \"Add a course\")), /*#__PURE__*/React.createElement(NameForm, {\n    username: props.username,\n    courses: props.courses,\n    addCourse: props.addCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  })));\n}\n\nclass Container extends React.Component {\n  //the main container for everything on the screen, that also stores most global data in its state\n  constructor(props) {\n    super(props); //bind the state setting functions to the current class\n\n    this.addCourse = nameOfCourse => {\n      //actually adds the course\n      var newCourses = this.state.arrCourses.slice();\n      newCourses.push(nameOfCourse);\n      this.setState({\n        arrCourses: newCourses.slice()\n      }, () => {\n        this.changeActiveCourse(nameOfCourse);\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser'));\n      console.log(Object.values(usr).slice()[2]);\n      localStorage.setItem('authUser', JSON.stringify(usr));\n      console.log(Object.values(usr).slice()[2]);\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        courses: newCourses.slice()\n      });\n    };\n\n    this.removeCourse = nameOfCourse => {\n      var newCourses = this.state.arrCourses.slice();\n      var newnewCourses = [];\n      newCourses.forEach(element => {\n        if (!(element === nameOfCourse)) {\n          newnewCourses.push(element);\n        }\n      });\n      newCourses = newnewCourses.slice();\n      this.setState({\n        arrCourses: newCourses.slice()\n      }, () => {\n        this.changeActiveCourse(this.state.arrCourses.slice()[0]);\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser'));\n      console.log(Object.values(usr).slice()[2]);\n      localStorage.setItem('authUser', JSON.stringify(usr));\n      console.log(Object.values(usr).slice()[2]);\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        courses: newCourses.slice()\n      });\n    };\n\n    this.changeActiveCourse = this.changeActiveCourse.bind(this);\n    this.addCourseMode = this.addCourseMode.bind(this);\n    this.state = {\n      arrCourses: props.courses,\n      activeCourse: \"none\",\n      //to be updated with the current open course\n      username: props.name,\n      mainPanelMode: 0 //0 means modules view (default), 1 means add-course view\n\n    };\n  }\n\n  changeActiveCourse(nameOfActiveCourse) {\n    this.setState({\n      mainPanelMode: 0,\n      activeCourse: nameOfActiveCourse\n    }, () => {\n      this.render();\n    });\n  }\n\n  addCourseMode() {\n    //switches main panel view to addCourseMode\n    this.setState({\n      mainPanelMode: 1\n    });\n    this.render(); //force React to rerender\n  }\n\n  getModules(name) {\n    const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n\n    if (name === \"none\") return [];\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === name) {\n        //now we've retrieved the correct course to display\n        //here we need to return all of the modules in that course in an array\n        var arrayOfModules = Object.values(course.modules);\n\n        for (let j = 0, len2 = arrayOfModules.length; j < len2; ++j) {\n          arrayOfModules[j].contents = Object.values(arrayOfModules[j].contents);\n          arrayOfModules[j].vark = Object.values(arrayOfModules[j].vark);\n          arrayOfModules[j].internals = Object.values(arrayOfModules[j].internals);\n        }\n\n        return arrayOfModules; // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [ \n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        // ];\n      } else {\n        console.log(\"whoops\");\n      }\n    }\n  }\n\n  render() {\n    var mainpanel;\n\n    if (this.state.mainPanelMode === 0) {\n      mainpanel = /*#__PURE__*/React.createElement(MainPanel, {\n        username: this.state.username,\n        activeCourse: this.state.activeCourse,\n        modules: this.getModules(this.state.activeCourse),\n        removeCourse: this.removeCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 25\n        }\n      });\n    } else if (this.state.mainPanelMode === 1) {\n      mainpanel = /*#__PURE__*/React.createElement(AddCoursePanel, {\n        username: this.state.username,\n        currentCourses: this.state.arrCourses,\n        addCourse: this.addCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 25\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      username: this.state.username,\n      activeCourse: this.state.activeCourse,\n      arrCourses: this.state.arrCourses,\n      changeActiveCourse: this.changeActiveCourse,\n      addCourseMode: this.addCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }\n    }, mainpanel)));\n  }\n\n}\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.state = {\n      username: Object.values(usr).slice()[4],\n      email: Object.values(usr).slice()[1],\n      courses: Object.values(usr).slice()[2]\n    };\n  }\n\n  componentDidMount() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.props.firebase.courses().on('value', snapshot => {\n      const coursesObject = snapshot.val();\n      const coursesList = Object.keys(coursesObject).map(key => ({ ...coursesObject[key],\n        appID: key\n      }));\n      localStorage.setItem('courses', JSON.stringify(coursesList));\n      this.setState({\n        username: Object.values(usr).slice()[4],\n        email: Object.values(usr).slice()[1],\n        courses: Object.values(usr).slice()[2]\n      });\n    });\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      //when login is implemented, it should create an app with the appropriate username passed in\n      React.createElement(Container, {\n        name: this.state.username,\n        courses: this.state.courses,\n        firebase: this.props.firebase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }\n      })\n    );\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);","map":{"version":3,"sources":["/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js"],"names":["React","withAuthorization","Modal","ModalManager","Effect","firebase","require","Logo","logo","CourseListItem","props","changeActiveCourse","name","fontSize","AddCourseItem","addCourseMode","Sidebar","Component","constructor","state","username","activeCourse","arrCourses","render","map","course","MyModal","text","onRequestClose","internalDisplay","beforeCode","afterCode","code","internal","__html","ScaleUp","maxHeight","close","ModuleContentItem","openModal","bind","header","open","vark","precede","attribute","ModuleItem","active","setActive","useState","contents","contentitem","indexOf","internals","MainPanel","handleRemove","event","removeCourse","welcomeMsg","unenroll","Object","values","modules","module","title","NameForm","value","handleChange","handleSubmit","setState","target","shouldAddCourse","allCourses","JSON","parse","localStorage","getItem","i","len","length","CourseName","addCourse","alert","preventDefault","AddCoursePanel","courses","Container","nameOfCourse","newCourses","slice","push","usr","console","log","setItem","stringify","users","child","update","newnewCourses","forEach","element","mainPanelMode","nameOfActiveCourse","getModules","arrayOfModules","j","len2","mainpanel","Home","email","componentDidMount","on","snapshot","coursesObject","val","coursesList","keys","key","appID","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logowithtext.svg';\nimport './App.css';\nimport { withAuthorization } from '../Session';\n\nimport { Modal,ModalManager,Effect} from 'react-dynamic-modal';\nimport * as firebase from 'firebase'\nrequire('@firebase/database');\n\n\nfunction Logo() {\n    return (\n        <div className=\"logo\" >\n            <br />\n            <img width=\"100%\" src={logo} alt=\"Modulus Logo\" />\n        </div>\n    )\n}\n\nfunction CourseListItem(props) {\n    return (\n        <div>\n            <div className=\"courselistitem\" onClick={() => {props.changeActiveCourse(props.name);}} >\n                {props.name}\n            </div>\n            <div style={{fontSize: \"5px\"}}>\n                <br />\n            </div>\n        </div>\n    );\n}\n\nfunction AddCourseItem(props) {\n    return (\n        <div className=\"addcourseitem\" onClick={props.addCourseMode}>\n            +\n        </div>\n    );\n}\n\nclass Sidebar extends React.Component { //the entire left sidebar\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: props.username,\n            activeCourse: props.activeCourse,\n            arrCourses: props.arrCourses,\n        }\n    }\n\n    //utility functions to pass info up to container\n    changeActiveCourse = (name) => {this.props.changeActiveCourse(name);}\n    addCourseMode = () => {this.props.addCourseMode();}\n\n    render() {\n        return (\n            <div>\n                <div className=\"sidebar\">\n                <Logo />\n                 <div className=\"sidebarheader\"><p><b>Your courses:</b></p></div>\n                <div className=\"courselist\">\n                   {this.props.arrCourses.map(course => <CourseListItem name={course} active={(this.props.activeCourse===course ? \"active\" : \"\")} changeActiveCourse={this.changeActiveCourse}/>)}\n                   <AddCourseItem addCourseMode={this.addCourseMode}/>\n                </div>\n            </div>\n            </div>\n            \n        );\n    }\n}\n\nclass MyModal extends React.Component{\n    render(){\n       const { text,onRequestClose } = this.props;\n\n       var internalDisplay = \"\"; //set this to the appropriate stuff based on this.props.internal and vark\n\n       var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n       var afterCode = \"\\\">Click here to open content in new tab</a>\";\n       var code = beforeCode + this.props.internal + afterCode;\n       \n        //this be the gaey code\n        internalDisplay = (\n            <div dangerouslySetInnerHTML={{__html: \n                code}}></div>\n        )\n\n        // if (this.props.vark===\"V\") { //once we have non-gaey code, we can properly implement internals, but for now we'll just embed external services\n            \n        // }\n        //  if (this.props.vark===\"A\") { \n             \n        //  }\n        // if (this.props.vark===\"R\") {\n\n        // }\n        // if (this.props.vark===\"K\") {\n\n        // }\n\n        \n\n       return (\n          <Modal\n             className=\"modaldialog\"\n             onRequestClose={onRequestClose}\n             effect={Effect.ScaleUp}>\n             <h1 className=\"modaldialog\">\n                 <table style={{maxHeight: \"50px\"}}>\n                     <tr>\n                         <td>\n                            <button id=\"backbutton\" onClick={ModalManager.close}>←</button> \n                         </td>\n                         <td>\n                            {internalDisplay}\n                         </td>\n                     </tr>\n                 </table>             \n             </h1>\n             \n          </Modal>\n       );\n    }\n }\n\nclass ModuleContentItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    openModal() {\n        const header = this.props.name;\n        ModalManager.open(<MyModal text={header} internal={this.props.internal} vark={this.props.vark} onRequestClose={() => true}/>);\n    }\n\n    // const [openedStatus, open] = React.useState(\"\");\n    // React.useEffect(() => { \n    //    //open item view\n    // });\n\n    // let precede;\n    // if (openedStatus===\"active\") {\n    //     precede = openedStatus;\n    // } else {\n    //     precede = props.vark;\n    // }\n\n    //var attribute = precede+\"modulecontentitem\"\n    render() {\n        let precede = this.props.vark;\n        var attribute = precede+\"modulecontentitem\"\n        return (\n            <div className={attribute} onClick={() => this.openModal()}> \n            {/* put onClick attribute for itemView in the div right above here */}\n                {/* TODO: Remove currently contains part later and replace it with a link to open the item view with the proper internal */}\n                {this.props.name}\n            </div>\n        );\n    }\n}\n\nfunction ModuleItem(props) {\n    const [active, setActive] = React.useState(props.active);\n\n    var attribute = active+\"moduleitem\";\n    return (\n        <div className={attribute} >\n            <div class=\"moduletitle\" onClick={() => setActive(active===\"active\" ? \"\" : \"active\")}>\n                {props.name}\n            </div>\n            <div className=\"modulecontents\">\n                {props.contents.map(\n                    contentitem => \n                    <ModuleContentItem \n                        name={contentitem} \n                        vark={props.vark[props.contents.indexOf(contentitem)]} \n                        internal={props.internals[props.contents.indexOf(contentitem)]}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n\nclass MainPanel extends React.Component { //the entire right half of the screen where all the modules are\n    constructor (props){\n        super(props);\n        this.handleRemove = this.handleRemove.bind(this);\n    }\n\n    handleRemove(event) {\n        this.props.removeCourse(this.props.activeCourse);\n    }\n\n    render() { //active: \"\" means the module is minimized, \"active\" means its expanded\n\n        var welcomeMsg;\n        var unenroll;\n        if (this.props.activeCourse===\"none\") {\n            welcomeMsg = \"Select or add a course on the left to get started.\";\n            unenroll = (\n                <div />\n            );\n        }\n        else {\n            welcomeMsg = \"Welcome to \" + (this.props.activeCourse);\n            unenroll = (\n                <div className=\"removecoursebutton\" onClick={this.handleRemove}>\n                    Unenroll\n                </div>\n            );\n            if (welcomeMsg === \"Welcome to Welcome\") {\n                welcomeMsg = \"Welcome to Modulus!\"\n                unenroll = (\n                    <div />\n                );\n            }\n        }\n\n        return (\n            <div className=\"mainpanel\">\n                <table>\n                    <tr>\n                        <td>\n                            <div className=\"courseheader\">\n                                {welcomeMsg}\n                            </div>\n                        </td>\n                        <td className=\"rightalign\">\n                            {unenroll}\n                        </td>\n                    </tr>\n                </table>              \n\n                <div className=\"modulelist\">\n                    {Object.values(this.props.modules).map(module =>\n                        <ModuleItem\n                            name={module.title}\n                            contents={module.contents}\n                            vark={module.vark}\n                            internals={module.internals}\n                            active=\"\"\n                            username={this.props.username}\n                        />)}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass NameForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: ''};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n\n    handleSubmit(event) { //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n        let shouldAddCourse = false;\n\n        //check that the course is available on the database. If not, throw an error to the user\n        const allCourses = JSON.parse(localStorage.getItem('courses')); \n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.CourseName === this.state.value) {\n                shouldAddCourse = true;\n            }\n        }\n\n        if (shouldAddCourse) {\n            this.props.addCourse(this.state.value);\n        } else {\n            alert('Sorry, class not found');\n        }\n        event.preventDefault();\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Enter the course name below<br /><br />\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\n                <br /><br />\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n        );\n    }\n}\n\nfunction AddCoursePanel(props) {\n    return (\n        <div className=\"mainpanel\">\n            <div className=\"addcourseview\">\n                <div className=\"addcoursetitle\">\n                    <b>Add a course</b>\n                </div>\n                <NameForm username={props.username} courses={props.courses} addCourse={props.addCourse}/>\n            </div>\n        </div>\n    );\n}\n\nclass Container extends React.Component { //the main container for everything on the screen, that also stores most global data in its state\n    constructor(props) {\n        super(props);\n\n        //bind the state setting functions to the current class\n        this.changeActiveCourse = this.changeActiveCourse.bind(this)\n        this.addCourseMode = this.addCourseMode.bind(this)\n\n        this.state = {\n            arrCourses: props.courses,\n            activeCourse: \"none\", //to be updated with the current open course\n            username: props.name,\n            mainPanelMode: 0, //0 means modules view (default), 1 means add-course view\n        }\n\n    }\n\n    changeActiveCourse(nameOfActiveCourse) {\n        this.setState({\n            mainPanelMode: 0,\n            activeCourse: nameOfActiveCourse,\n        }, () => {this.render();});\n    }\n\n    addCourseMode() { //switches main panel view to addCourseMode\n        this.setState({\n            mainPanelMode: 1\n        });\n        this.render(); //force React to rerender\n    }\n\n    addCourse = (nameOfCourse) => { //actually adds the course\n        var newCourses = this.state.arrCourses.slice();\n        newCourses.push(nameOfCourse);\n        this.setState({\n            arrCourses: newCourses.slice(),\n        }, () => {this.changeActiveCourse(nameOfCourse);});\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        console.log(Object.values(usr).slice()[2]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        console.log(Object.values(usr).slice()[2]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            courses: newCourses.slice(),\n        });\n    }\n\n    removeCourse = (nameOfCourse) => {\n        var newCourses = this.state.arrCourses.slice();\n        var newnewCourses = [];\n        newCourses.forEach(element => {\n            if (!(element===nameOfCourse)) {\n                newnewCourses.push(element);\n            }\n        });\n        newCourses = newnewCourses.slice();\n        this.setState({\n            arrCourses: newCourses.slice(),\n        }, () => {this.changeActiveCourse(this.state.arrCourses.slice()[0]);});\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        console.log(Object.values(usr).slice()[2]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        console.log(Object.values(usr).slice()[2]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            courses: newCourses.slice(),\n        });\n    }\n\n    getModules(name) {\n        const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n        if ( name === \"none\")\n            return []\n\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n\n\n            if ( course.CourseName === name) { //now we've retrieved the correct course to display\n                //here we need to return all of the modules in that course in an array\n\n                var arrayOfModules = (Object.values(course.modules));\n                for (let j = 0, len2 = arrayOfModules.length; j<len2; ++j) {\n                    arrayOfModules[j].contents = (Object.values(arrayOfModules[j].contents));\n                    arrayOfModules[j].vark = (Object.values(arrayOfModules[j].vark));\n                    arrayOfModules[j].internals = (Object.values(arrayOfModules[j].internals));\n                }\n                return arrayOfModules;\n\n                // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [ \n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                // ];\n            }\n            else{\n                console.log(\"whoops\");\n            }\n        }\n    }\n\n    render() {\n        var mainpanel;\n        if (this.state.mainPanelMode===0) {\n            mainpanel = <MainPanel username={this.state.username} activeCourse={this.state.activeCourse} modules={this.getModules(this.state.activeCourse)} removeCourse={this.removeCourse}/>\n        } else if (this.state.mainPanelMode===1) {\n            mainpanel = <AddCoursePanel username={this.state.username} currentCourses={this.state.arrCourses} addCourse={this.addCourse}/>\n        }\n        return (\n            <div className=\"App\">\n                <div className=\"container\">\n                    <div className=\"left-element\">\n                        <Sidebar\n                            username={this.state.username}\n                            activeCourse={this.state.activeCourse}\n                            arrCourses={this.state.arrCourses}\n                            changeActiveCourse={this.changeActiveCourse}\n                            addCourseMode={this.addCourseMode}\n                        />\n                    </div>\n                    <div className=\"right-element\">\n                        {mainpanel}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.state = {\n            username: Object.values(usr).slice()[4],\n            email: Object.values(usr).slice()[1],\n            courses: Object.values(usr).slice()[2],\n        }\n\n    }\n    componentDidMount() {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.props.firebase.courses().on('value', snapshot => {\n            const coursesObject = snapshot.val();\n            const coursesList = Object.keys(coursesObject).map(key => ({\n                ...coursesObject[key],\n                appID: key,\n            }));\n            localStorage.setItem('courses', JSON.stringify(coursesList));\n            this.setState({\n                username: Object.values(usr).slice()[4],\n                email: Object.values(usr).slice()[1],\n                courses: Object.values(usr).slice()[2],\n\n            });\n        });\n\n    }\n\n    render() {\n        return ( //when login is implemented, it should create an app with the appropriate username passed in\n            <Container name={this.state.username} courses={this.state.courses} firebase={this.props.firebase}/>\n        );\n    }\n}\n\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);"]},"metadata":{},"sourceType":"module"}