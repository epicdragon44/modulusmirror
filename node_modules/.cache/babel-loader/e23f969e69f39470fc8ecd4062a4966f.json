{"ast":null,"code":"var _jsxFileName = \"/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js\";\nimport React from 'react';\nimport './App.css';\nimport { withAuthorization } from '../Session';\nimport { Modal, ModalManager, Effect } from 'react-dynamic-modal';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport 'react-contexify/dist/ReactContexify.min.css';\nimport * as firebase from 'firebase';\nimport { Resizable, ResizableBox } from 'react-resizable';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport backarrow from './backarrow.png';\nimport darkdeleteicon from \"./deletedark.svg\";\nimport darkrenameicon from \"./renamedark.svg\";\nimport whitedeleteicon from \"./deletewhite.svg\";\nimport whiterenameicon from \"./renamewhite.svg\";\nimport sidebaricon from \"./sidebar.svg\";\n\nrequire('@firebase/database'); //DOC: Item 1: Displays a single course button in the sidebar that, when clicked, changes the main panel to display that course.\n\n\nfunction CourseListItem(props) {\n  var code = codeToName(props.name);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courselistitem\",\n    onClick: () => {\n      props.changeActiveCourse(props.name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, code);\n} //DOC: Converts the class code passed into the function into the actual English name of the course\n\n\nfunction codeToName(classcode) {\n  const allCourses = JSON.parse(localStorage.getItem('courses'));\n\n  for (let i = 0, len = allCourses.length; i < len; ++i) {\n    var course = allCourses[i];\n\n    if (course.nclasscode === classcode) {\n      return course.CourseName;\n    }\n  }\n} //DOC: Item 2: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to enroll in a course\n\n\nfunction AddCourseItem(props) {\n  return !currentUserIsAdmin() ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseitem\",\n    onClick: props.addCourseMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 14\n    }\n  }, \"Enroll in a course\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 24\n    }\n  });\n} //DOC: Item 3: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to create a course\n\n\nfunction CreateCourseItem(props) {\n  return currentUserIsAdmin() ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseitem\",\n    onClick: props.createCourseMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 14\n    }\n  }, \"Create a course\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 24\n    }\n  });\n} //DOC: Determines whether the current user logged in is an Admin, or Teacher, or a student. Returns true if the former, and false if the latter.\n\n\nfunction currentUserIsAdmin() {\n  const usr = JSON.parse(localStorage.getItem('authUser'));\n  return Object.values(usr).slice()[3][0] === \"ADMIN\";\n} //DOC: Item 4: The entire left sidebar\n\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeActiveCourse = name => {\n      this.props.changeActiveCourse(name);\n    };\n\n    this.addCourseMode = () => {\n      this.props.addCourseMode();\n    };\n\n    this.createCourseMode = () => {\n      this.props.createCourseMode();\n    };\n\n    this.state = {\n      username: props.username,\n      activeCourse: props.activeCourse,\n      arrCourses: props.arrCourses\n    };\n  } //utility functions to pass info up to container\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courselist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(AddCourseItem, {\n      addCourseMode: this.addCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CreateCourseItem, {\n      createCourseMode: this.createCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }), this.props.arrCourses.length <= 1 ? null : this.props.arrCourses.map(course => course === \"Welcome\" ? null : /*#__PURE__*/React.createElement(CourseListItem, {\n      name: course,\n      active: this.props.activeCourse === course ? \"active\" : \"\",\n      changeActiveCourse: this.changeActiveCourse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 137\n      }\n    }))));\n  }\n\n} //DOC: Displays a popup dialog\n\n\nclass MyModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.filterCallback = this.filterCallback.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleItemNameChange = this.handleItemNameChange.bind(this);\n    this.state = {\n      varkselection: this.props.vark === \"V\" || this.props.vark === \"A\" || this.props.vark === \"R\" || this.props.vark === \"K\" ? this.props.vark : null,\n      value: this.props.internal,\n      itemName: this.props.itemName === \"add\" ? \"\" : this.props.itemName //modules: this.props.modules.slice(), //modify this.state.modules //push the entirety of this.state.modules up to the database\n\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleItemNameChange(event) {\n    this.setState({\n      itemName: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    if (!(this.state.varkselection === \"V\" || this.state.varkselection === \"A\" || this.state.varkselection === \"R\" || this.state.varkselection === \"K\")) {\n      alert('You need to select a VARK type!');\n      event.preventDefault();\n      return;\n    }\n\n    if (this.props.addItemMode) {\n      const allCourses = JSON.parse(localStorage.getItem('courses'));\n      var courseID;\n\n      for (let i = 0, len = allCourses.length; i < len; ++i) {\n        var course = allCourses[i];\n\n        if (course.nclasscode === this.props.activeCourse) {\n          courseID = course.appID; // identifies current course child name to update\n\n          break;\n        }\n      }\n\n      const arrModules = this.props.modules;\n      const curModule = this.props.moduleTitle;\n\n      for (let i = 0; i < arrModules.length; ++i) {\n        var neededModule;\n\n        if (arrModules[i].title === curModule) {\n          neededModule = arrModules[i];\n          break; // finds needed module to edit\n        }\n      }\n\n      const contents = neededModule.contents; // add your new items\n\n      const internals = neededModule.internals;\n      const vark = neededModule.vark; //double check we don't already have an item with that name\n\n      let iteration;\n\n      for (iteration in contents) {\n        if (contents[iteration] === this.state.itemName) {\n          alert('You already have an item with that name!');\n          event.preventDefault();\n          return;\n        }\n      }\n\n      contents.push(this.state.itemName);\n      internals.push(this.state.value);\n      vark.push(this.state.varkselection);\n      const newPush = this.props.modules;\n      this.props.firebase.courses().child(courseID).update({\n        modules: newPush.slice()\n      });\n    } else {\n      const allCourses = JSON.parse(localStorage.getItem('courses'));\n      var courseID;\n\n      for (let i = 0, len = allCourses.length; i < len; ++i) {\n        var course = allCourses[i];\n\n        if (course.nclasscode === this.props.activeCourse) {\n          courseID = course.appID; // identifies current course child name to update\n\n          break;\n        }\n      }\n\n      const arrModules = this.props.modules;\n      const curModule = this.props.moduleTitle;\n\n      for (let i = 0; i < arrModules.length; ++i) {\n        var neededModule;\n\n        if (arrModules[i].title === curModule) {\n          neededModule = arrModules[i];\n          break; // finds needed module to edit\n        }\n      }\n\n      const contents = neededModule.contents; // modify the corresponding item\n\n      const internals = neededModule.internals;\n      const vark = neededModule.vark;\n\n      for (let i = 0; i < contents.length; ++i) {\n        let itemTemp = contents[i];\n\n        if (itemTemp === this.props.itemName && vark[i] === this.props.vark) {\n          internals[i] = this.state.value;\n        }\n      }\n\n      const newPush = this.props.modules; // record to database\n\n      console.log(newPush);\n      this.props.firebase.courses().child(courseID).update({\n        modules: newPush.slice()\n      });\n    }\n\n    ModalManager.close();\n    event.preventDefault();\n  }\n\n  handleFilter(theState) {\n    //handles selection of the dropdown VARK by the teacher\n    this.setState({\n      varkselection: theState\n    }, () => this.filterCallback());\n  }\n\n  filterCallback() {\n    //callback from handleFilter\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      var neededModule;\n\n      if (arrModules[i].title === curModule) {\n        neededModule = arrModules[i];\n        break; // finds needed module to edit\n      }\n    }\n\n    const contents = neededModule.contents; // modify the corresponding item\n\n    const vark = neededModule.vark;\n\n    for (let i = 0; i < contents.length; ++i) {\n      let itemTemp = contents[i];\n\n      if (itemTemp === this.props.itemName) {\n        vark[i] = this.state.varkselection;\n      }\n    }\n\n    const newPush = this.props.modules; // record to database\n\n    console.log(newPush);\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    this.render();\n  }\n\n  render() {\n    const {\n      text,\n      onRequestClose\n    } = this.props;\n    var internalDisplay = \"\";\n    var link = this.props.internal;\n\n    if (this.props.teacherMode) {\n      if (this.props.addItemMode) {\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 47\n          }\n        }), /*#__PURE__*/React.createElement(\"h1\", {\n          style: {\n            color: \"#003459\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }\n        }, \"Create an item\"), /*#__PURE__*/React.createElement(Select, {\n          passState: this.handleFilter,\n          default: \"Choose a VARK type\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 37\n          }\n        }, \"Enter the item name:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.itemName,\n          onChange: this.handleItemNameChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 37\n          }\n        }))), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 37\n          }\n        }, \"Enter the link to the item:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 43\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 33\n          }\n        }))));\n        return (\n          /*#__PURE__*/\n          //big modal\n          React.createElement(Modal, {\n            style: {\n              overlay: {\n                position: 'fixed',\n                top: -150,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 99999999,\n                overflow: 'hidden',\n                perspective: 1300,\n                backgroundColor: 'rgba(0, 0, 0, 0.3)'\n              },\n              content: {\n                position: 'relative',\n                margin: '15% auto',\n                width: '60%',\n                height: '600px',\n                border: '1px solid rgba(0, 0, 0, .2)',\n                background: '#fff',\n                borderRadius: '4px',\n                outline: 'none',\n                boxShadow: '0 5px 10px rgba(0, 0, 0, .3)',\n                textAlign: 'center',\n                overflow: 'hidden'\n              }\n            },\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }\n          }, internalDisplay)\n        );\n      } else {\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          style: {\n            fontSize: \"xx-large\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 29\n          }\n        }, \"Edit this item\"), /*#__PURE__*/React.createElement(Select, {\n          passState: this.handleFilter,\n          default: \"Choose a VARK type\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 37\n          }\n        }, \"Enter the link to the item:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 43\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 33\n          }\n        }))));\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 25\n            }\n          }, internalDisplay))\n        );\n      }\n    } else {\n      if (\"VARK\".includes(this.props.vark) && link.includes(\"google\")) {\n        if (link.includes(\"/edit?usp=sharing\")) {\n          //standardize on \"view\" as the thing to replace, since GDrive is gaey and some view-only links still have edit in the link\n          link = link.substring(0, link.indexOf(\"/edit?usp=sharing\")) + \"/view?usp=sharing\";\n        }\n\n        if (link.includes(\"/view?usp=sharing\")) {\n          //if its a google drive shared file\n          link = link.substring(0, link.indexOf(\"/view?usp=sharing\")) + \"/preview\"; //make it an embeddable preview\n        }\n\n        if (link.includes(\"/viewform\")) //if its a google form/quiz\n          link += \"?embedded=true\"; //embed it\n\n        var beforeCode = \"<iframe src=\\\"\";\n        var afterCode = \"\\\" width=\\\"100%\\\" height=\\\"750\\\" />\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 44\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //big modal\n          React.createElement(Modal, {\n            style: {\n              overlay: {\n                position: 'fixed',\n                top: -200,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 99999999,\n                overflow: 'hidden',\n                perspective: 1300,\n                backgroundColor: 'rgba(0, 0, 0, 0.3)'\n              },\n              content: {\n                position: 'relative',\n                margin: '15% auto',\n                width: '90%',\n                height: '770px',\n                border: '1px solid rgba(0, 0, 0, .2)',\n                background: '#fff',\n                borderRadius: '4px',\n                outline: 'none',\n                boxShadow: '0 5px 10px rgba(0, 0, 0, .3)',\n                textAlign: 'center',\n                overflow: 'hidden'\n              }\n            },\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 29\n            }\n          }, internalDisplay)\n        );\n      } else if (link.includes(\"youtube\") || link.includes(\"youtu.be\")) {\n        if (link.includes(\"youtu.be\")) link = link.substring(0, link.indexOf(\"youtu.be\")) + \"youtube.com/watch?v=\" + link.substring(link.indexOf(\"be/\") + 3, link.length);\n        if (link.includes(\"youtube\")) link = link.substring(0, link.indexOf(\"/watch?v=\")) + \"/embed/\" + link.substring(link.indexOf(\"v=\") + 2, link.length);\n        var beforeCode = \"<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"\";\n        var afterCode = \"\\\" frameBorder=\\\"0\\\"\\n\" + \"allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\"\\n\" + \"allowFullScreen></iframe>\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 36\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            style: {\n              maxHeight: \"50px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            id: \"backbutton\",\n            onClick: ModalManager.close,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: backarrow,\n            alt: \"Return\",\n            height: \"15px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 94\n            }\n          }))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: 100\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 37\n            }\n          }, internalDisplay)))))\n        );\n      } else {\n        //just create a button and insert the link as the button's destination\n        var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n        var afterCode = \"\\\">Click here to open content in new tab</a>\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 36\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            style: {\n              maxHeight: \"50px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            id: \"backbutton\",\n            onClick: ModalManager.close,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: backarrow,\n            alt: \"Return\",\n            height: \"15px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 94\n            }\n          }))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 37\n            }\n          }, internalDisplay)))))\n        );\n      }\n    }\n  }\n\n} //DOC: Item 15: Inline button that, when clicked, allows the user to rename a module.\n\n\nclass RenameModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearField = this.clearField.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: \"Enter new module name\"\n    };\n  }\n\n  clearField() {\n    if (this.state.newVal === \"Enter new module name\") {\n      this.setState({\n        newVal: \"\"\n      });\n    }\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal,\n      active: false\n    }); // this will rename the current module\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules; //check if we already have a module with that name\n\n    let iteration;\n\n    for (iteration in arrModules) {\n      if (arrModules[iteration].title === this.state.newVal) {\n        alert('You already have a module with that name!');\n        return;\n      }\n    }\n\n    const curModule = this.props.moduleTitle;\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      if (arrModules[i].title === curModule) {\n        arrModules[i].title = this.state.newVal; // sets the new name\n      }\n    }\n\n    const newPush = this.props.modules; // push to firebase\n\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: whiterenameicon,\n      height: \"15px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 17\n      }\n    }));\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"internal\",\n        type: \"text\",\n        value: this.state.newVal,\n        onChange: this.handleChange,\n        onClick: this.clearField,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"internal\",\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n} //DOC: Item 15: Inline button that, when clicked, allows the user to delete a module.\n\n\nclass DeleteModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: this.props.internal\n    };\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal,\n      active: false\n    }); // this will rename the current module\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      if (arrModules[i].title === curModule) {\n        arrModules[i].title = \"DELETE THAT YOU HOT DOG\"; // sets the new name to delete ot\n      }\n    }\n\n    const newPush = this.props.modules; // push to firebase\n\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: whitedeleteicon,\n      height: \"15px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 17\n      }\n    }));\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"internal\",\n        type: \"submit\",\n        value: \"Confirm Deletion\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n} //DOC: Item 14: Inline button that, when clicked, allows the user to rename an item.\n\n\nclass RenameItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearField = this.clearField.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: \"Enter new item name\"\n    };\n  }\n\n  clearField() {\n    if (this.state.newVal === \"Enter new item name\") this.setState({\n      newVal: \"\"\n    });\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal,\n      active: false\n    });\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n    console.log(arrModules);\n    console.log(curModule);\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      var neededModule2;\n\n      if (arrModules[i].title === curModule) {\n        neededModule2 = arrModules[i];\n        break; // finds needed module to edit\n      } else console.log(\"bope\");\n    }\n\n    const contents = neededModule2.contents; // renames the corresponding item\n\n    const vark = neededModule2.vark;\n    let count = 0;\n\n    for (let i = 0; i < contents.length; ++i) {\n      //check we're not duplicating item names\n      let itemTemp = contents[i];\n      console.log(itemTemp);\n\n      if (itemTemp === this.state.newVal)\n        /*&& (vark[i] === this.props.vark)*/\n        {\n          alert('You already have an item with that name!');\n          event.preventDefault();\n          return;\n        }\n    }\n\n    for (let i = 0; i < contents.length; ++i) {\n      //good, actually rename it now\n      let itemTemp = contents[i];\n\n      if (itemTemp === this.props.itemName)\n        /*&& (vark[i] === this.props.vark)*/\n        {\n          contents[i] = this.state.newVal;\n        }\n    }\n\n    const newPush = this.props.modules; // record to database\n\n    console.log(newPush);\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 23\n      }\n    }, \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"img\", {\n      src: darkrenameicon,\n      height: \"15px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 63\n      }\n    }));\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"whiteinternal\",\n        type: \"text\",\n        value: this.state.newVal,\n        onChange: this.handleChange,\n        onClick: this.clearField,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"whiteinternal\",\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n} //DOC: Item 14: Inline button that, when clicked, allows the user to rename an item.\n\n\nclass DeleteItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: this.props.internal\n    };\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal,\n      active: false\n    });\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n    console.log(arrModules);\n    console.log(curModule);\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      var neededModule2;\n\n      if (arrModules[i].title === curModule) {\n        neededModule2 = arrModules[i];\n        break; // finds needed module to edit\n      } else console.log(\"bope\");\n    }\n\n    const contents = neededModule2.contents; // renames the corresponding item\n\n    const vark = neededModule2.vark;\n\n    for (let i = 0; i < contents.length; ++i) {\n      //good, actually rename it now\n      let itemTemp = contents[i];\n\n      if (itemTemp === this.props.itemName)\n        /*&& (vark[i] === this.props.vark)*/\n        {\n          contents[i] = \"DELETE THAT YOU HOT DOG\";\n        }\n    }\n\n    const newPush = this.props.modules; // record to database\n\n    console.log(newPush);\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 23\n      }\n    }, \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"img\", {\n      src: darkdeleteicon,\n      height: \"15px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 63\n      }\n    }));\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"internal\",\n        type: \"submit\",\n        value: \"Confirm Deletion\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n} //DOC: Item 13: A course item, that, when clicked, displays one of the course contents.\n\n\nclass ModuleContentItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  openModal() {\n    //this registers the click\n    this.props.addVarkClicks(this.props.vark);\n    const header = this.props.name;\n    ModalManager.open( /*#__PURE__*/React.createElement(MyModal, {\n      itemName: this.props.name,\n      firebase: this.props.firebase,\n      text: header,\n      modules: this.props.modules,\n      activeCourse: this.props.activeCourse,\n      moduleTitle: this.props.moduleTitle,\n      internal: this.props.internal,\n      vark: this.props.vark,\n      onRequestClose: () => true,\n      teacherMode: this.props.teacherMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 27\n      }\n    }));\n  }\n\n  render() {\n    let precede = this.props.vark;\n    var attribute = precede + \"modulecontentitem\";\n    var teacherMode = this.props.teacherMode;\n    var renameDisplay = /*#__PURE__*/React.createElement(RenameItem, {\n      internal: this.props.name,\n      moduleTitle: this.props.moduleTitle,\n      activeCourse: this.props.activeCourse,\n      modules: this.props.modules,\n      vark: this.props.vark,\n      itemName: this.props.name,\n      firebase: this.props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 13\n      }\n    });\n    var deleteDisplay = /*#__PURE__*/React.createElement(DeleteItem, {\n      internal: this.props.name,\n      moduleTitle: this.props.moduleTitle,\n      activeCourse: this.props.activeCourse,\n      modules: this.props.modules,\n      vark: this.props.vark,\n      itemName: this.props.name,\n      firebase: this.props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 13\n      }\n    });\n    var datacells = /*#__PURE__*/React.createElement(\"div\", {\n      className: attribute,\n      onClick: () => this.openModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 13\n      }\n    }, this.props.name);\n\n    if (teacherMode) {\n      datacells = /*#__PURE__*/React.createElement(\"div\", {\n        className: attribute,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editflex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editflextext\",\n        onClick: () => this.openModal(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 25\n        }\n      }, this.props.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editflexicon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 25\n        }\n      }, deleteDisplay), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editflexicon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 25\n        }\n      }, renameDisplay)));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 13\n      }\n    }, datacells);\n  }\n\n} //DOC: Item 16: A button that allows the user (assumedly a teacher) to add an item to the module\n\n\nclass AddModuleContentItemItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  openModal() {\n    //this registers the click\n    ModalManager.open( /*#__PURE__*/React.createElement(MyModal, {\n      itemName: \"add\",\n      firebase: this.props.firebase,\n      moduleTitle: this.props.moduleTitle,\n      activeCourse: this.props.activeCourse,\n      modules: this.props.modules,\n      onRequestClose: () => true,\n      teacherMode: true,\n      addItemMode: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 926,\n        columnNumber: 27\n      }\n    }));\n  }\n\n  render() {\n    var attribute = \"modulecontentitem\";\n    var inner = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 932,\n        columnNumber: 22\n      }\n    }, \"Add an item\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: attribute,\n      onClick: () => this.openModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 935,\n        columnNumber: 13\n      }\n    }, inner);\n  }\n\n} //DOC: Item 17: A button that allows the user (assumedly a teacher) to add a module to the course\n\n\nclass AddModuleItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearField = this.clearField.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: \"Enter Module Name\"\n    };\n  }\n\n  clearField() {\n    if (this.state.newVal === \"Enter Module Name\") {\n      this.setState({\n        newVal: \"\"\n      });\n    }\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update, courseID != classcode\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const moduleTitle = this.state.newVal; //check if we already have a module with that name\n\n    let iteration;\n\n    for (iteration in arrModules) {\n      if (arrModules[iteration].title === moduleTitle) {\n        alert('You already have a module with that name!');\n        return;\n      }\n    }\n\n    const blankModule = {\n      title: moduleTitle,\n      contents: [\"Example Item\"],\n      vark: ['A'],\n      internals: [\"https://youtu.be/e3RbWSfhlp4\"]\n    }; // creates example blank module using module title\n\n    arrModules.push(blankModule);\n    const newPush = arrModules.slice();\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n  }\n\n  render() {\n    var inside =\n    /*#__PURE__*/\n    // (this.state.active) ?\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1019,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"internal\",\n      type: \"text\",\n      value: this.state.newVal,\n      onChange: this.handleChange,\n      onClick: this.clearField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"button\",\n      type: \"submit\",\n      value: \"Add a Module\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1023,\n        columnNumber: 21\n      }\n    }))); // : (<p className=\"addrenamebutton\">Add a Module</p>);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addmoduleitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 17\n      }\n    }, inside));\n  }\n\n} //DOC: Item 11: Displays an entire module, including all of its content items.\n\n\nfunction ModuleItem(props) {\n  const [active, setActive] = React.useState(props.active);\n  var attribute = active + \"moduleitem\";\n  var teacherMode = props.teacherMode;\n\n  if (teacherMode) {\n    attribute += \"teacher\";\n  }\n\n  var addCourseItemItem = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 30\n    }\n  });\n\n  if (teacherMode) {\n    addCourseItemItem = /*#__PURE__*/React.createElement(AddModuleContentItemItem, {\n      moduleTitle: props.name,\n      activeCourse: props.activeCourse,\n      modules: props.modules,\n      firebase: props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 13\n      }\n    });\n  }\n\n  var renameDisplay = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 26\n    }\n  });\n\n  if (teacherMode) {\n    renameDisplay = /*#__PURE__*/React.createElement(RenameModule, {\n      internal: props.name,\n      moduleTitle: props.name,\n      activeCourse: props.activeCourse,\n      modules: props.modules,\n      firebase: props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 13\n      }\n    });\n  }\n\n  var deleteDisplay = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1077,\n      columnNumber: 26\n    }\n  });\n\n  if (teacherMode) {\n    deleteDisplay = /*#__PURE__*/React.createElement(DeleteModule, {\n      internal: props.name,\n      moduleTitle: props.name,\n      activeCourse: props.activeCourse,\n      modules: props.modules,\n      firebase: props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1080,\n        columnNumber: 13\n      }\n    });\n  }\n\n  var topbar = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"moduletitle\",\n    onClick: () => setActive(active === \"active\" ? \"\" : \"active\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1091,\n      columnNumber: 9\n    }\n  }, props.name);\n\n  if (teacherMode) {\n    topbar = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"teachermoduletitle\",\n      onClick: () => setActive(active === \"active\" ? \"\" : \"active\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1097,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editflex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1098,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editflextext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 21\n      }\n    }, props.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editflexicon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 21\n      }\n    }, deleteDisplay), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editflexicon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1105,\n        columnNumber: 21\n      }\n    }, renameDisplay)));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: attribute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1115,\n      columnNumber: 13\n    }\n  }, topbar, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modulecontents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1117,\n      columnNumber: 17\n    }\n  }, props.contents.map(contentitem => props.varkMode === \"All\" || props.varkMode === props.vark[props.contents.indexOf(contentitem)] ? contentitem !== \"DELETE THAT YOU HOT DOG\" ? /*#__PURE__*/React.createElement(ModuleContentItem, {\n    name: contentitem,\n    vark: props.vark[props.contents.indexOf(contentitem)],\n    internal: props.internals[props.contents.indexOf(contentitem)],\n    addVarkClicks: props.addVarkClicks,\n    teacherMode: props.teacherMode,\n    moduleTitle: props.name,\n    activeCourse: props.activeCourse,\n    modules: props.modules,\n    firebase: props.firebase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1124,\n      columnNumber: 30\n    }\n  }) : null : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1137,\n      columnNumber: 26\n    }\n  })), addCourseItemItem)));\n} //DOC: Item 10: Displays the entire VARK Profile\n\n\nfunction VarkProfile(props) {\n  const lineWidth = 60;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"varkprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PieChart, {\n    style: {\n      fontFamily: '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\n      fontSize: '8px',\n      height: \"150px\"\n    },\n    data: [{\n      color: 'red',\n      title: 'V',\n      value: props.Vcnt\n    }, {\n      color: 'blue',\n      title: 'A',\n      value: props.Acnt\n    }, {\n      color: 'green',\n      title: 'R',\n      value: props.Rcnt\n    }, {\n      color: 'purple',\n      title: 'K',\n      value: props.Kcnt\n    }],\n    radius: PieChart.defaultProps.radius - 6,\n    lineWidth: 60,\n    segmentsStyle: {\n      transition: 'stroke .3s',\n      cursor: 'pointer'\n    },\n    animate: true,\n    label: ({\n      dataEntry\n    }) => Math.round(dataEntry.percentage) + '%',\n    labelPosition: 100 - lineWidth / 2,\n    labelStyle: {\n      fill: '#fff',\n      opacity: 0.75,\n      pointerEvents: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1152,\n      columnNumber: 13\n    }\n  }));\n} //DOC: Item 8: Allows the user to filter which VARK-type of items to display\n\n\nclass Select extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: [{\n        name: this.props.default,\n        value: \"All\"\n      }, {\n        name: 'Visual',\n        value: 'V'\n      }, {\n        name: 'Auditory',\n        value: 'A'\n      }, {\n        name: 'Reading/Writing',\n        value: 'R'\n      }, {\n        name: 'Kinesthetic',\n        value: 'K'\n      }],\n      value: '?'\n    };\n\n    this.handleChange = event => {\n      this.props.passState(event.target.value);\n      this.setState({\n        value: event.target.value\n      });\n    };\n  }\n\n  render() {\n    const {\n      options,\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"varkfilter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"search_categories\",\n      id: \"search_categories\",\n      onChange: this.handleChange,\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 17\n      }\n    }, options.map(item => /*#__PURE__*/React.createElement(\"option\", {\n      className: \"option\",\n      key: item.value,\n      value: item.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1241,\n        columnNumber: 21\n      }\n    }, \"\\xA0\\xA0\\xA0\", item.name)))));\n  }\n\n} //DOC: Item 5: The entire right half of the screen, which can change its display depending on whether we want to show the contents of the course, with all the modules; or the screen that lets us enroll in a course; or the screen that lets us create a course.\n\n\nclass MainPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      varkselection: \"All\",\n      copied: false\n    };\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.filterCallback = this.filterCallback.bind(this);\n    this.getCurrentUserEmail = this.getCurrentUserEmail.bind(this);\n    this.getTeacherEmail = this.getTeacherEmail.bind(this);\n    this.getTeacherName = this.getTeacherName.bind(this);\n    this.codeToName = this.codeToName.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.firebase.courses().on('value', snapshot => {\n      const coursesObject = snapshot.val();\n      const coursesList = Object.keys(coursesObject).map(key => ({ ...coursesObject[key],\n        appID: key\n      }));\n      localStorage.setItem('courses', JSON.stringify(coursesList));\n    });\n  }\n\n  handleRemove(event) {\n    this.props.removeCourse(this.props.activeCourse);\n  }\n\n  handleFilter(theState) {\n    this.setState({\n      varkselection: theState\n    }, () => this.filterCallback());\n  }\n\n  filterCallback() {\n    this.render();\n  }\n\n  getTeacherEmail(nameOfCourse) {\n    // use code here instead\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var teacher;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === nameOfCourse) {\n        teacher = course.nteacher;\n      }\n    } // should be returning correct email. If not, try Object.values(course.nteacher) instead\n\n\n    return teacher;\n  }\n\n  getTeacherName(teacherEmail) {\n    //TODO: return teacher name based on teacher email\n    return \"Example Teacher Name\";\n  }\n\n  getCurrentUserEmail() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    const curEmail = Object.values(usr).slice()[1]; // returns string of current user's email\n\n    return curEmail;\n  }\n\n  codeToName(code) {\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === code) {\n        return course.CourseName;\n      }\n    }\n  }\n\n  render() {\n    //active: \"\" means the module is minimized, \"active\" means its expanded\n    var showModules = true;\n    var showVarkProfile = true;\n    var courseid = this.props.activeCourse;\n    var teacherMode = this.getTeacherEmail(this.props.activeCourse) === this.getCurrentUserEmail();\n    var welcomeMsg;\n    var unenroll;\n    var joinCode;\n    var filter;\n    var teacherReveal;\n    var showRest = true;\n    var teacherEmail = this.getTeacherEmail(this.props.activeCourse);\n\n    if (this.props.activeCourse === \"none\") {\n      welcomeMsg = \"No course selected.\";\n      teacherReveal = \"\";\n      joinCode = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 17\n        }\n      });\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1347,\n          columnNumber: 17\n        }\n      });\n      showVarkProfile = false;\n      filter = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1351,\n          columnNumber: 17\n        }\n      });\n      showRest = false;\n    } else {\n      welcomeMsg = \"Welcome to \" + this.codeToName(this.props.activeCourse); //CodeToName\n\n      let teachermsg = \"Taught by \" + this.getTeacherName(this.getTeacherEmail(this.props.activeCourse));\n      teacherReveal = teachermsg;\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"managecontent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1360,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1362,\n          columnNumber: 21\n        }\n      }, \"Unenroll from this course\"), /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1365,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"removecoursebutton\",\n        onClick: this.handleRemove,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1366,\n          columnNumber: 21\n        }\n      }, \"Unenroll\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 27\n        }\n      }));\n      filter = /*#__PURE__*/React.createElement(Select, {\n        passState: this.handleFilter,\n        default: \"Show all VARK types\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1373,\n          columnNumber: 23\n        }\n      });\n\n      if (teacherMode) {\n        joinCode = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1376,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 28\n          }\n        }, \"Join Course ID:\\xA0\\xA0\\xA0\"), \" \", courseid));\n        unenroll = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 21\n          }\n        });\n        filter = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1383,\n            columnNumber: 27\n          }\n        });\n      }\n\n      if (welcomeMsg === \"Welcome to Welcome\") {\n        welcomeMsg = \"Select or add a course on the left to get started.\";\n        showModules = false;\n        unenroll = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1389,\n            columnNumber: 21\n          }\n        });\n        joinCode = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1392,\n            columnNumber: 21\n          }\n        });\n        showVarkProfile = false;\n        filter = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1396,\n            columnNumber: 21\n          }\n        });\n        showRest = false;\n      }\n    }\n\n    var addModuleItem = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1402,\n        columnNumber: 30\n      }\n    });\n\n    if (teacherMode) {\n      addModuleItem = /*#__PURE__*/React.createElement(AddModuleItem, {\n        internal: \"\",\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        firebase: this.props.firebase,\n        changeActiveCourse: this.props.changeActiveCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 17\n        }\n      });\n    }\n\n    var viewModuleList = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1415,\n        columnNumber: 31\n      }\n    });\n    var editModuleList = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1416,\n        columnNumber: 31\n      }\n    });\n\n    if (showModules) {\n      viewModuleList = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modulelist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1419,\n          columnNumber: 17\n        }\n      }, Object.values(this.props.modules).map(module => module.title !== \"DELETE THAT YOU HOT DOG\" ? /*#__PURE__*/React.createElement(ModuleItem, {\n        name: module.title,\n        contents: module.contents,\n        vark: module.vark,\n        internals: module.internals,\n        active: \"\",\n        username: this.props.username,\n        addVarkClicks: this.props.addVarkClicks,\n        varkMode: this.state.varkselection,\n        teacherMode: false,\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        firebase: this.props.firebase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1423,\n          columnNumber: 30\n        }\n      }) : null));\n      editModuleList = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modulelist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1442,\n          columnNumber: 17\n        }\n      }, Object.values(this.props.modules).map(module => module.title !== \"DELETE THAT YOU HOT DOG\" ? /*#__PURE__*/React.createElement(ModuleItem, {\n        name: module.title,\n        contents: module.contents,\n        vark: module.vark,\n        internals: module.internals,\n        active: \"\",\n        username: this.props.username,\n        addVarkClicks: this.props.addVarkClicks,\n        varkMode: this.state.varkselection,\n        teacherMode: true,\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        firebase: this.props.firebase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 30\n        }\n      }) : null), addModuleItem);\n    } //counts the number of each vark item in modules\n\n\n    var Vcnt = 0;\n    var Acnt = 0;\n    var Rcnt = 0;\n    var Kcnt = 0;\n    var module;\n    var varkLetter;\n\n    for (module of this.props.modules) {\n      for (varkLetter of module.vark) {\n        if (varkLetter === \"V\") {\n          Vcnt++;\n        }\n\n        if (varkLetter === \"A\") {\n          Acnt++;\n        }\n\n        if (varkLetter === \"R\") {\n          Rcnt++;\n        }\n\n        if (varkLetter === \"K\") {\n          Kcnt++;\n        }\n      }\n    }\n\n    var varkProfile = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1491,\n        columnNumber: 28\n      }\n    });\n\n    if (showVarkProfile) {\n      varkProfile = /*#__PURE__*/React.createElement(VarkProfile, {\n        Vcnt: Vcnt,\n        Acnt: Acnt,\n        Rcnt: Rcnt,\n        Kcnt: Kcnt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1494,\n          columnNumber: 17\n        }\n      });\n    }\n\n    var mailtostring = \"mailto:\" + teacherEmail;\n    var contactTeacher = teacherMode ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"managecontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1506,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1507,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1508,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1509,\n        columnNumber: 21\n      }\n    }, teacherReveal), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1512,\n        columnNumber: 21\n      }\n    }, teacherEmail, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1513,\n        columnNumber: 39\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1513,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"smalllinkbutton\",\n      href: mailtostring,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1515,\n        columnNumber: 21\n      }\n    }, \"Contact\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1516,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1516,\n        columnNumber: 27\n      }\n    })));\n    var joinClassCode = teacherMode ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"managecontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1522,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1523,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1524,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1525,\n        columnNumber: 21\n      }\n    }, \"Course Join Code\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1528,\n        columnNumber: 21\n      }\n    }, this.props.activeCourse, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1529,\n        columnNumber: 50\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1529,\n        columnNumber: 56\n      }\n    })), /*#__PURE__*/React.createElement(CopyToClipboard, {\n      text: this.props.activeCourse,\n      onCopy: () => this.setState({\n        copied: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1531,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"smalllinkbutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1532,\n        columnNumber: 25\n      }\n    }, this.state.copied ? \"Copied!\" : \"Copy to Clipboard\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1534,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1534,\n        columnNumber: 27\n      }\n    }))) : null;\n    var manageStudents = teacherMode ?\n    /*#__PURE__*/\n    //TODO: ACTUALLY LET THEM MANAGE STUDENTS ENROLLED HERE\n    React.createElement(\"div\", {\n      className: \"managecontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1540,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1541,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1542,\n        columnNumber: 21\n      }\n    }, \"Manage Students here\"))) : null;\n    var ModulesTab = teacherMode ? /*#__PURE__*/React.createElement(Tab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1547,\n        columnNumber: 43\n      }\n    }, \"View Modules\") : /*#__PURE__*/React.createElement(Tab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1547,\n        columnNumber: 71\n      }\n    }, \"Modules\");\n    var EditModulesTab = teacherMode ? /*#__PURE__*/React.createElement(Tab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1548,\n        columnNumber: 47\n      }\n    }, \"Edit Modules\") : null;\n    var OtherTab = teacherMode ? /*#__PURE__*/React.createElement(Tab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1549,\n        columnNumber: 41\n      }\n    }, \"Manage Course\") : /*#__PURE__*/React.createElement(Tab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1549,\n        columnNumber: 70\n      }\n    }, \"Other\");\n    var ViewModulesPanel = /*#__PURE__*/React.createElement(TabPanel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1552,\n        columnNumber: 13\n      }\n    }, filter, viewModuleList);\n    var EditModulesPanel = teacherMode ? /*#__PURE__*/React.createElement(TabPanel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1558,\n        columnNumber: 13\n      }\n    }, filter, editModuleList) : null;\n    var VarkPanel = /*#__PURE__*/React.createElement(TabPanel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1565,\n        columnNumber: 13\n      }\n    }, joinClassCode, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1567,\n        columnNumber: 17\n      }\n    }), contactTeacher, manageStudents, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1570,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"managecontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1571,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1572,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1573,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1573,\n        columnNumber: 29\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1573,\n        columnNumber: 36\n      }\n    }), \"Course VARK Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1574,\n        columnNumber: 25\n      }\n    }, \"Every course has a different profile,\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1574,\n        columnNumber: 92\n      }\n    }), \"composed of different types and numbers of items.\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1574,\n        columnNumber: 152\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"offsetleft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1575,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1576,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1577,\n        columnNumber: 33\n      }\n    }, varkProfile), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1580,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1581,\n        columnNumber: 37\n      }\n    }, \"Visual\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      style: {\n        color: \"blue\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1582,\n        columnNumber: 37\n      }\n    }, \"Auditory\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      style: {\n        color: \"green\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1583,\n        columnNumber: 37\n      }\n    }, \"Reading/Writing\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      style: {\n        color: \"purple\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1584,\n        columnNumber: 37\n      }\n    }, \"Kinesthetic\"))))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1589,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1590,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"smallparagraph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1591,\n        columnNumber: 25\n      }\n    }, \"To learn more about the different learning models,\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1591,\n        columnNumber: 105\n      }\n    }), \" visit \", /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nonformatted\",\n      href: \"https://vark-learn.com/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1591,\n        columnNumber: 118\n      }\n    }, \"the VARK site\"), \".\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1592,\n        columnNumber: 25\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1592,\n        columnNumber: 32\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1595,\n        columnNumber: 17\n      }\n    }), unenroll, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1597,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1597,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1597,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1597,\n        columnNumber: 35\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1597,\n        columnNumber: 41\n      }\n    }));\n    var restOfPage = showRest ? /*#__PURE__*/React.createElement(Tabs, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1602,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TabList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1603,\n        columnNumber: 17\n      }\n    }, ModulesTab, EditModulesTab, OtherTab), ViewModulesPanel, EditModulesPanel, VarkPanel) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1612,\n        columnNumber: 14\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainpanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1616,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"courseheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1617,\n        columnNumber: 17\n      }\n    }, welcomeMsg), restOfPage, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 17\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 24\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 31\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 38\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 45\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 52\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 59\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 66\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 73\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 80\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 87\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 94\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 101\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 108\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 115\n      }\n    }));\n  }\n\n} //DOC: The form that allows you to create a class.\n\n\nclass CreateForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    let newString = event.target.value.substring(0, 20);\n    this.setState({\n      value: newString\n    });\n  }\n\n  handleSubmit(event) {\n    this.props.createCourse(this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    let charCount = 20 - this.state.value.length;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1651,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1652,\n        columnNumber: 17\n      }\n    }, \"Enter the name for your new course below\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1653,\n        columnNumber: 61\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1653,\n        columnNumber: 67\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1654,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"reallysmallparagraph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1656,\n        columnNumber: 17\n      }\n    }, charCount, \" characters remaining\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1657,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1657,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1659,\n        columnNumber: 17\n      }\n    }));\n  }\n\n} //DOC: The form that allows you to enroll in a class.\n\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n    let shouldAddCourse = false; //check that the course is available on the database. If not, throw an error to the user\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var needed;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.state.value) {\n        shouldAddCourse = true;\n        needed = course.nclasscode;\n      }\n    }\n\n    if (shouldAddCourse) {\n      this.props.addCourse(needed);\n    } else {\n      alert('Sorry, class not found');\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1701,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1702,\n        columnNumber: 17\n      }\n    }, \"Enter the course code below\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1703,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1703,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1704,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1705,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1705,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1706,\n        columnNumber: 17\n      }\n    }));\n  }\n\n} //DOC: The mainpanel view that allows you to create a class.\n\n\nfunction CreateCoursePanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1715,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1716,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcoursetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1717,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1718,\n      columnNumber: 21\n    }\n  }, \"Create a course\")), /*#__PURE__*/React.createElement(CreateForm, {\n    username: props.username,\n    courses: props.courses,\n    createCourse: props.createCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1720,\n      columnNumber: 17\n    }\n  })));\n} //DOC: The mainpanel view that allows you to add a class\n\n\nfunction AddCoursePanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1729,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1730,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcoursetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1731,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1732,\n      columnNumber: 21\n    }\n  }, \"Enroll in a course\")), /*#__PURE__*/React.createElement(NameForm, {\n    username: props.username,\n    courses: props.courses,\n    addCourse: props.addCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1734,\n      columnNumber: 17\n    }\n  })));\n} //DOC: The main container for everything on the screen, that also stores most global data in its state.\n\n\nclass Container extends React.Component {\n  constructor(props) {\n    super(props); //bind the state setting functions to the current class\n\n    this.addCourse = courseCode => {\n      //actually adds the course\n      var newCourses = this.state.arrCourses.slice();\n\n      if (newCourses.includes(courseCode)) {\n        alert(\"You've already enrolled in this course!\");\n      } else {\n        newCourses.push(courseCode);\n        this.setState({\n          arrCourses: newCourses.slice()\n        }, () => {\n          this.changeActiveCourse(courseCode);\n        });\n        const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[2]);\n\n        localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[2]);\n\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n          courses: newCourses.slice()\n        });\n      }\n    };\n\n    this.createCourse = nameOfCourse => {\n      //actually adds the course\n      // alert(\"Created \" + nameOfCourse);\n      //TODO: generate classcode, make the course with nameOfCourse, add it to the db\n      // use getModules(nameOfCourse) to get arbitrary items\n      const usr = JSON.parse(localStorage.getItem('authUser'));\n      const email = Object.values(usr).slice()[1].toString();\n      const username = Object.values(usr).slice()[4];\n      var hash1 = 0;\n      var hash2 = 0;\n\n      for (let i = 0; i < email.length; i++) {\n        const char = email.charCodeAt(i);\n        hash1 = (hash1 << 5) - hash1 + char;\n        hash1 = hash1 & hash1;\n      }\n\n      for (let i = 0; i < nameOfCourse.length; i++) {\n        const char = nameOfCourse.charCodeAt(i);\n        hash2 = (hash2 << 5) - hash2 + char;\n        hash2 = hash2 & hash2;\n      }\n\n      const rand = Math.round(Math.random() * 10000);\n      var classCode = hash1 + \"\" + hash2 + rand; // <-- set this to the class code\n\n      const modulesT = this.getModules(-1);\n      const tempName = username + nameOfCourse + classCode;\n      this.props.firebase.course(tempName).update({\n        CourseName: nameOfCourse,\n        modules: modulesT,\n        nclasscode: classCode,\n        nteacher: email\n      }); //done for you: at the end, enroll the person in their own course by calling this.addCourse(classCode);\n\n      this.addCourse(classCode);\n    };\n\n    this.addVarkClicks = varkCharacter => {\n      var newVark = this.state.varkClicks.slice();\n      newVark.push(varkCharacter);\n      this.setState({\n        varkClicks: newVark.slice()\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[6]);\n\n      localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[6]);\n\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        wvarkclicks: newVark.slice()\n      });\n    };\n\n    this.removeCourse = courseCode => {\n      var newCourses = this.state.arrCourses.slice();\n      var newnewCourses = [];\n      newCourses.forEach(element => {\n        if (!(element === courseCode)) {\n          newnewCourses.push(element);\n        }\n      });\n      newCourses = newnewCourses.slice();\n      this.setState({\n        arrCourses: newCourses.slice()\n      }, () => {\n        this.changeActiveCourse(this.state.arrCourses.slice()[0]);\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[2]);\n\n      localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[2]);\n\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        courses: newCourses.slice()\n      });\n      window.location.reload();\n      window.location.reload();\n    };\n\n    this.changeActiveCourse = this.changeActiveCourse.bind(this);\n    this.addCourseMode = this.addCourseMode.bind(this);\n    this.createCourseMode = this.createCourseMode.bind(this);\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.state = {\n      arrCourses: props.courses,\n      activeCourse: \"none\",\n      //to be updated with the current open course code\n      username: props.name,\n      mainPanelMode: 0,\n      //0 means modules view (default), 1 means add-course view, 2 means create-course view\n      varkClicks: props.varkClicks,\n      hidden: false\n    };\n  }\n\n  changeActiveCourse(courseCode) {\n    this.setState({\n      mainPanelMode: 0,\n      activeCourse: courseCode\n    }, () => {\n      this.render();\n    }); //window.location = window.location.href.substring(0, window.location.href.indexOf(\"#\")) + '#' + courseCode;\n  }\n\n  addCourseMode() {\n    //switches main panel view to addCourseMode\n    this.setState({\n      mainPanelMode: 1\n    });\n    this.render(); //force React to rerender\n  }\n\n  createCourseMode() {\n    //switches main panel view to createCourseMode\n    this.setState({\n      mainPanelMode: 2\n    });\n    this.render(); //force React to rerender\n  }\n\n  getModules(name) {\n    if (name === -1) {\n      return [{\n        title: \"Example Module\",\n        contents: [\"Example Item\"],\n        vark: ['V'],\n        internals: [\"https://youtu.be/e3RbWSfhlp4\"]\n      }];\n    }\n\n    const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n\n    if (name === \"none\") return [];\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === name) {\n        //now we've retrieved the correct course to display\n        //here we need to return all of the modules in that course in an array\n        var arrayOfModules = Object.values(course.modules);\n\n        for (let j = 0, len2 = arrayOfModules.length; j < len2; ++j) {\n          arrayOfModules[j].contents = Object.values(arrayOfModules[j].contents);\n          arrayOfModules[j].vark = Object.values(arrayOfModules[j].vark);\n          arrayOfModules[j].internals = Object.values(arrayOfModules[j].internals);\n        }\n\n        return arrayOfModules; // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [\n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        // ];\n      } else {\n        console.log(\"whoops\");\n      }\n    }\n  }\n\n  toggleHidden() {\n    this.setState({\n      hidden: !this.state.hidden\n    });\n  }\n\n  render() {\n    var mainpanel;\n\n    if (this.state.mainPanelMode === 0) {\n      mainpanel = /*#__PURE__*/React.createElement(MainPanel, {\n        firebase: this.props.firebase,\n        username: this.state.username,\n        activeCourse: this.state.activeCourse,\n        modules: this.getModules(this.state.activeCourse),\n        removeCourse: this.removeCourse,\n        addVarkClicks: this.addVarkClicks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1940,\n          columnNumber: 25\n        }\n      });\n    } else if (this.state.mainPanelMode === 1) {\n      mainpanel = /*#__PURE__*/React.createElement(AddCoursePanel, {\n        username: this.state.username,\n        currentCourses: this.state.arrCourses,\n        addCourse: this.addCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1942,\n          columnNumber: 25\n        }\n      });\n    } else if (this.state.mainPanelMode === 2) {\n      mainpanel = /*#__PURE__*/React.createElement(CreateCoursePanel, {\n        username: this.state.username,\n        currentCourses: this.state.arrCourses,\n        createCourse: this.createCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1944,\n          columnNumber: 25\n        }\n      });\n    }\n\n    var leftelement = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1947,\n        columnNumber: 28\n      }\n    });\n\n    if (!this.state.hidden) {\n      leftelement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left-element\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1950,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ResizableBox, {\n        width: 300,\n        height: 10,\n        axis: 'x',\n        resizeHandles: ['ne'],\n        minConstraints: [150, 10],\n        maxConstraints: [400, 10],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1951,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Sidebar, {\n        username: this.state.username,\n        activeCourse: this.state.activeCourse,\n        arrCourses: this.state.arrCourses,\n        changeActiveCourse: this.changeActiveCourse,\n        addCourseMode: this.addCourseMode,\n        createCourseMode: this.createCourseMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1953,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    var button = this.state.hidden ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"smallsidebartoggle\",\n      onClick: this.toggleHidden,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1966,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"flipimage\",\n      src: backarrow,\n      width: \"12px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1967,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"sidebartoggle\",\n      onClick: this.toggleHidden,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1970,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: backarrow,\n      width: \"12px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1971,\n        columnNumber: 17\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1976,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1977,\n        columnNumber: 17\n      }\n    }, leftelement, button, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1981,\n        columnNumber: 21\n      }\n    }, mainpanel)));\n  }\n\n} //DOC: Renders and returns a Container, and initializes it with proper defaults.\n\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.state = {\n      username: Object.values(usr).slice()[4],\n      email: Object.values(usr).slice()[1],\n      courses: Object.values(usr).slice()[2],\n      varkClicks: Object.values(usr).slice()[6]\n    };\n  }\n\n  componentDidMount() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.props.firebase.courses().on('value', snapshot => {\n      const coursesObject = snapshot.val();\n      const coursesList = Object.keys(coursesObject).map(key => ({ ...coursesObject[key],\n        appID: key\n      }));\n      localStorage.setItem('courses', JSON.stringify(coursesList)); //console.log(JSON.parse(localStorage.getItem('courses')));\n\n      this.setState({\n        username: Object.values(usr).slice()[4],\n        email: Object.values(usr).slice()[1],\n        courses: Object.values(usr).slice()[2]\n      });\n    });\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      //when login is implemented, it should create an app with the appropriate username passed in\n      React.createElement(Container, {\n        name: this.state.username,\n        courses: this.state.courses,\n        firebase: this.props.firebase,\n        varkClicks: this.state.varkClicks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2023,\n          columnNumber: 13\n        }\n      })\n    );\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);","map":{"version":3,"sources":["/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js"],"names":["React","withAuthorization","Modal","ModalManager","Effect","PieChart","firebase","Resizable","ResizableBox","CopyToClipboard","Tab","Tabs","TabList","TabPanel","backarrow","require","CourseListItem","props","code","codeToName","name","changeActiveCourse","classcode","allCourses","JSON","parse","localStorage","getItem","i","len","length","course","nclasscode","CourseName","AddCourseItem","currentUserIsAdmin","addCourseMode","CreateCourseItem","createCourseMode","usr","Object","values","slice","Sidebar","Component","constructor","state","username","activeCourse","arrCourses","render","map","MyModal","handleFilter","bind","filterCallback","handleChange","handleSubmit","handleItemNameChange","varkselection","vark","value","internal","itemName","event","setState","target","alert","preventDefault","addItemMode","courseID","appID","arrModules","modules","curModule","moduleTitle","neededModule","title","contents","internals","iteration","push","newPush","courses","child","update","itemTemp","console","log","close","theState","text","onRequestClose","internalDisplay","link","teacherMode","color","overlay","position","top","left","right","bottom","zIndex","overflow","perspective","backgroundColor","content","margin","width","height","border","background","borderRadius","outline","boxShadow","textAlign","ScaleUp","fontSize","includes","substring","indexOf","beforeCode","afterCode","__html","maxHeight","paddingLeft","RenameModule","onClick","clearField","active","newVal","inside","whiterenameicon","DeleteModule","whitedeleteicon","RenameItem","neededModule2","count","darkrenameicon","DeleteItem","darkdeleteicon","ModuleContentItem","openModal","addVarkClicks","header","open","precede","attribute","renameDisplay","deleteDisplay","datacells","AddModuleContentItemItem","inner","AddModuleItem","blankModule","ModuleItem","setActive","useState","addCourseItemItem","topbar","contentitem","varkMode","VarkProfile","lineWidth","fontFamily","Vcnt","Acnt","Rcnt","Kcnt","defaultProps","radius","transition","cursor","dataEntry","Math","round","percentage","fill","opacity","pointerEvents","Select","PureComponent","options","default","passState","item","MainPanel","copied","handleRemove","getCurrentUserEmail","getTeacherEmail","getTeacherName","componentDidMount","on","snapshot","coursesObject","val","coursesList","keys","key","setItem","stringify","removeCourse","nameOfCourse","teacher","nteacher","teacherEmail","curEmail","showModules","showVarkProfile","courseid","welcomeMsg","unenroll","joinCode","filter","teacherReveal","showRest","teachermsg","addModuleItem","viewModuleList","editModuleList","module","varkLetter","varkProfile","mailtostring","contactTeacher","joinClassCode","manageStudents","ModulesTab","EditModulesTab","OtherTab","ViewModulesPanel","EditModulesPanel","VarkPanel","restOfPage","CreateForm","newString","createCourse","charCount","NameForm","shouldAddCourse","needed","addCourse","CreateCoursePanel","AddCoursePanel","Container","courseCode","newCourses","users","email","toString","hash1","hash2","char","charCodeAt","rand","random","classCode","modulesT","getModules","tempName","varkCharacter","newVark","varkClicks","wvarkclicks","newnewCourses","forEach","element","window","location","reload","toggleHidden","mainPanelMode","hidden","arrayOfModules","j","len2","mainpanel","leftelement","button","Home","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { withAuthorization } from '../Session';\n\nimport { Modal,ModalManager,Effect} from 'react-dynamic-modal';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport 'react-contexify/dist/ReactContexify.min.css';\nimport * as firebase from 'firebase'\nimport { Resizable, ResizableBox } from 'react-resizable';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport backarrow from './backarrow.png';\nimport darkdeleteicon from './deletedark.svg';\nimport darkrenameicon from './renamedark.svg';\nimport whitedeleteicon from './deletewhite.svg';\nimport whiterenameicon from './renamewhite.svg';\nimport sidebaricon from './sidebar.svg';\nrequire('@firebase/database');\n\n//DOC: Item 1: Displays a single course button in the sidebar that, when clicked, changes the main panel to display that course.\nfunction CourseListItem(props) {\n    var code = codeToName(props.name);\n    return ( \n        <div className=\"courselistitem\" onClick={() => {props.changeActiveCourse(props.name);}} >\n            {code}\n        </div>\n    );\n}\n\n//DOC: Converts the class code passed into the function into the actual English name of the course\nfunction codeToName(classcode) {\n\tconst allCourses = JSON.parse(localStorage.getItem('courses'));\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === classcode) {\n                return course.CourseName;\n            }\n        }\n}\n\n//DOC: Item 2: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to enroll in a course\nfunction AddCourseItem(props) {\n    return (\n        (!currentUserIsAdmin()) ? \n            (<div className=\"addcourseitem\" onClick={props.addCourseMode}>\n                Enroll in a course\n            </div>) : (<div />)\n    );\n}\n\n//DOC: Item 3: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to create a course\nfunction CreateCourseItem(props) {\n    return (\n        (currentUserIsAdmin()) ? \n            (<div className=\"addcourseitem\" onClick={props.createCourseMode}>\n                Create a course\n            </div>) : (<div />)\n    );\n}\n\n//DOC: Determines whether the current user logged in is an Admin, or Teacher, or a student. Returns true if the former, and false if the latter.\nfunction currentUserIsAdmin() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    return (Object.values(usr).slice()[3][0]===\"ADMIN\");\n}\n\n//DOC: Item 4: The entire left sidebar\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: props.username,\n            activeCourse: props.activeCourse,\n            arrCourses: props.arrCourses,\n        }\n    }\n\n    //utility functions to pass info up to container\n    changeActiveCourse = (name) => {this.props.changeActiveCourse(name);}\n    addCourseMode = () => {this.props.addCourseMode();}\n    createCourseMode = () => {this.props.createCourseMode();}\n\n    render() {\n\n        return (\n            <div className=\"sidebar\">\n                <div className=\"courselist\">\n                    <br />\n                    <AddCourseItem addCourseMode={this.addCourseMode}/>\n                    <CreateCourseItem createCourseMode={this.createCourseMode}/>\n                    {(this.props.arrCourses.length<=1) ? (null) : this.props.arrCourses.map(course => ((course===\"Welcome\") ? (null) : (<CourseListItem name={course} active={(this.props.activeCourse===course ? \"active\" : \"\")} changeActiveCourse={this.changeActiveCourse}/>)))}\n                </div>\n            </div>\n\n        );\n    }\n}\n\n\n//DOC: Displays a popup dialog\nclass MyModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleFilter = this.handleFilter.bind(this);\n        this.filterCallback = this.filterCallback.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleItemNameChange = this.handleItemNameChange.bind(this);\n        this.state = {\n            varkselection: (this.props.vark===\"V\" || this.props.vark===\"A\" || this.props.vark===\"R\" || this.props.vark===\"K\") ? (this.props.vark) : (null),\n            value: this.props.internal,\n            itemName: (this.props.itemName===\"add\") ? (\"\") : (this.props.itemName),\n            //modules: this.props.modules.slice(), //modify this.state.modules //push the entirety of this.state.modules up to the database\n        };\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n    handleItemNameChange(event) {    this.setState({itemName: event.target.value});  }\n\n    handleSubmit(event) {\n        if (!(this.state.varkselection===\"V\" || this.state.varkselection===\"A\" || this.state.varkselection===\"R\" || this.state.varkselection===\"K\")) {\n            alert('You need to select a VARK type!');\n            event.preventDefault();\n            return;\n        }\n\n        if (this.props.addItemMode) {\n            const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.nclasscode === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n\n            const contents = neededModule.contents; // add your new items\n            const internals = neededModule.internals;\n            const vark = neededModule.vark;\n\n            //double check we don't already have an item with that name\n            let iteration;\n            for (iteration in contents) {\n                if (contents[iteration]===this.state.itemName) {\n                    alert('You already have an item with that name!');\n                    event.preventDefault();\n                    return;\n                }\n            }\n\n            contents.push(this.state.itemName);\n            internals.push(this.state.value);\n            vark.push(this.state.varkselection);\n\n\n            const newPush = this.props.modules;\n\n\n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n        }\n        else {\n    \n            const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.nclasscode === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n\n            const contents = neededModule.contents;  // modify the corresponding item\n            const internals = neededModule.internals;\n            const vark = neededModule.vark;\n            for ( let i = 0; i < contents.length; ++i) {\n                let itemTemp = contents[i];\n                if ( itemTemp === this.props.itemName && vark[i] === this.props.vark) {\n                    internals[i] = this.state.value;\n                }\n            }\n\n            const newPush = this.props.modules; // record to database\n            console.log(newPush);\n\n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n        }\n\n        ModalManager.close();\n        event.preventDefault();\n    }\n\n    handleFilter(theState) { //handles selection of the dropdown VARK by the teacher\n        this.setState({varkselection: theState}, () => this.filterCallback());\n    }\n\n    filterCallback() { //callback from handleFilter\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.nclasscode === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n\n            const contents = neededModule.contents;  // modify the corresponding item\n            const vark = neededModule.vark;\n            for ( let i = 0; i < contents.length; ++i) {\n                let itemTemp = contents[i];\n                if ( itemTemp === this.props.itemName) {\n                    vark[i] = this.state.varkselection;\n                }\n            }\n\n            const newPush = this.props.modules; // record to database\n            console.log(newPush);\n\n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n        this.render();\n    }\n\n    render(){\n       const { text,onRequestClose } = this.props;\n\n       var internalDisplay = \"\";\n\n       var link = this.props.internal;\n\n       if (this.props.teacherMode) {\n           if (this.props.addItemMode) {\n                internalDisplay = (\n                    <div>\n                        <center>\n                            <br /><br /><br /><br />\n                            <h1 style={{color: \"#003459\"}}>Create an item</h1>\n                            <Select passState={this.handleFilter} default={\"Choose a VARK type\"}/>\n                            <br /><br />\n                            <form>\n                                <label>\n                                    <p className=\"teachernotice\">Enter the item name:</p>\n                                    <input type=\"text\" value={this.state.itemName} onChange={this.handleItemNameChange} />\n                                </label>\n                            </form>\n                            <br /><br />\n                            <form onSubmit={this.handleSubmit}>\n                                <label>\n                                    <p className=\"teachernotice\">Enter the link to the item:</p>\n                                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n                                </label>\n                                    <br /><br />\n                                <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                        </center>\n                    </div>\n                );\n\n                return ( //big modal\n                    <Modal\n                        style= {{\n                            overlay: {\n                            position        : 'fixed',\n                            top             : -150,\n                            left            : 0,\n                            right           : 0,\n                            bottom          : 0,\n                            zIndex          : 99999999,\n                            overflow        : 'hidden',\n                            perspective     :  1300,\n                            backgroundColor : 'rgba(0, 0, 0, 0.3)'\n                            },\n\n                            content: {\n                            position                : 'relative',\n                            margin                  : '15% auto',\n                            width                   : '60%',\n                            height                  : '600px',\n                            border                  : '1px solid rgba(0, 0, 0, .2)',\n                            background              : '#fff',\n                            borderRadius            : '4px',\n                            outline                 : 'none',\n                            boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n                            textAlign               : 'center',\n                            overflow                : 'hidden',\n                            }\n                        }}\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}\n                    >\n                        {internalDisplay}\n                    </Modal>\n                );\n           } else {\n                internalDisplay = (\n                    <div>\n                        <center>\n                            <h1 style={{fontSize: \"xx-large\"}}>Edit this item</h1>\n                            <Select passState={this.handleFilter} default={\"Choose a VARK type\"}/>\n                            <form onSubmit={this.handleSubmit}>\n                                <label>\n                                    <p className=\"teachernotice\">Enter the link to the item:</p>\n                                    <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\n                                    <br /><br />\n                                <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                        </center>\n                    </div>\n                );\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            {internalDisplay}\n                        </h1>\n                    </Modal>\n                );\n           }\n       }\n       else {\n            if(\"VARK\".includes(this.props.vark) && link.includes(\"google\")){\n                if (link.includes(\"/edit?usp=sharing\")) { //standardize on \"view\" as the thing to replace, since GDrive is gaey and some view-only links still have edit in the link\n                link = link.substring(0, link.indexOf(\"/edit?usp=sharing\")) + \"/view?usp=sharing\";\n                }\n                if (link.includes(\"/view?usp=sharing\")) { //if its a google drive shared file\n                    link = link.substring(0, link.indexOf(\"/view?usp=sharing\")) + \"/preview\"; //make it an embeddable preview\n                }\n                if (link.includes(\"/viewform\")) //if its a google form/quiz\n                    link += \"?embedded=true\";\n\n\n                        //embed it\n                        var beforeCode = \"<iframe src=\\\"\";\n                        var afterCode = \"\\\" width=\\\"100%\\\" height=\\\"750\\\" />\";\n                        var code = beforeCode + link + afterCode;\n\n                        internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                        return ( //big modal\n                            <Modal\n                                style= {{\n                                    overlay: {\n                                    position        : 'fixed',\n                                    top             : -200,\n                                    left            : 0,\n                                    right           : 0,\n                                    bottom          : 0,\n                                    zIndex          : 99999999,\n                                    overflow        : 'hidden',\n                                    perspective     :  1300,\n                                    backgroundColor : 'rgba(0, 0, 0, 0.3)'\n                                    },\n\n                                    content: {\n                                    position                : 'relative',\n                                    margin                  : '15% auto',\n                                    width                   : '90%',\n                                    height                  : '770px',\n                                    border                  : '1px solid rgba(0, 0, 0, .2)',\n                                    background              : '#fff',\n                                    borderRadius            : '4px',\n                                    outline                 : 'none',\n                                    boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n                                    textAlign               : 'center',\n                                    overflow                : 'hidden',\n                                    }\n                                }}\n                                onRequestClose={onRequestClose}\n                                effect={Effect.ScaleUp}\n                            >\n                                {internalDisplay}\n                            </Modal>\n                        );\n            }else if(link.includes(\"youtube\") || link.includes(\"youtu.be\")){\n                if(link.includes(\"youtu.be\"))\n                    link = link.substring(0, link.indexOf(\"youtu.be\")) + \"youtube.com/watch?v=\" + link.substring(link.indexOf(\"be/\") + 3, link.length);\n                if(link.includes(\"youtube\"))\n                    link = link.substring(0, link.indexOf(\"/watch?v=\")) + \"/embed/\" + link.substring(link.indexOf(\"v=\") + 2, link.length);\n                var beforeCode = \"<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"\";\n                var afterCode = \"\\\" frameBorder=\\\"0\\\"\\n\" +\n                    \"allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\"\\n\" +\n                    \"allowFullScreen></iframe>\";\n                var code = beforeCode + link + afterCode;\n\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            <table style={{maxHeight: \"50px\"}}>\n                                <tr>\n                                    <td>\n                                        <button id=\"backbutton\" onClick={ModalManager.close}><img src={backarrow} alt=\"Return\" height=\"15px\"/></button>\n                                    </td>\n                                    <td style={{paddingLeft: 100}}>\n                                        {internalDisplay}\n                                    </td>\n                                </tr>\n                            </table>\n                        </h1>\n                    </Modal>\n                );\n\n            }\n            else { //just create a button and insert the link as the button's destination\n                var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n                var afterCode = \"\\\">Click here to open content in new tab</a>\";\n                var code = beforeCode + link + afterCode;\n\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            <table style={{maxHeight: \"50px\"}}>\n                                <tr>\n                                    <td>\n                                        <button id=\"backbutton\" onClick={ModalManager.close}><img src={backarrow} alt=\"Return\" height=\"15px\"/></button>\n                                    </td>\n                                    <td>\n                                        {internalDisplay}\n                                    </td>\n                                </tr>\n                            </table>\n                        </h1>\n                    </Modal>\n                );\n            }\n        }\n    }\n}\n\n//DOC: Item 15: Inline button that, when clicked, allows the user to rename a module.\nclass RenameModule extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.clearField = this.clearField.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: \"Enter new module name\",\n        };\n    }\n\n    clearField() {\n        if (this.state.newVal===\"Enter new module name\") {\n            this.setState({\n                newVal: \"\",\n            });\n        }\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        this.setState({\n            value: this.state.newVal,\n            active: false,\n        });\n\n        // this will rename the current module\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n\n        //check if we already have a module with that name\n        let iteration;\n        for (iteration in arrModules) {\n            if (arrModules[iteration].title===this.state.newVal) {\n                alert('You already have a module with that name!');\n                return;\n            }\n        }\n\n        const curModule = this.props.moduleTitle;\n        for ( let i = 0; i < arrModules.length; ++i) {\n            if ( arrModules[i].title === curModule) {\n                arrModules[i].title = this.state.newVal; // sets the new name\n            }\n        }\n        const newPush = this.props.modules; // push to firebase\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }\n\n    render() {\n        var inside = (\n            <p className=\"renamebutton\">\n                <img src={whiterenameicon} height=\"15px\"/>              \n            </p>\n        );\n        if (this.state.active) {\n            inside = (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    <input className=\"internal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\n                </label>\n                <input className=\"internal\" type=\"submit\" value=\"Submit\" />\n            </form>\n            );\n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}>\n                {inside}\n            </div>\n        );\n    }\n}\n\n//DOC: Item 15: Inline button that, when clicked, allows the user to delete a module.\nclass DeleteModule extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: this.props.internal,\n        };\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        this.setState({\n            value: this.state.newVal,\n            active: false,\n        });\n\n        // this will rename the current module\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n\n        const curModule = this.props.moduleTitle;\n        for ( let i = 0; i < arrModules.length; ++i) {\n            if ( arrModules[i].title === curModule) {\n                arrModules[i].title = \"DELETE THAT YOU HOT DOG\"; // sets the new name to delete ot\n            }\n        }\n        const newPush = this.props.modules; // push to firebase\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }\n\n    render() {\n        var inside = (\n            <p className=\"renamebutton\">\n                <img src={whitedeleteicon} height=\"15px\"/>              \n            </p>\n        );\n        if (this.state.active) {\n            inside = (\n            <form onSubmit={this.handleSubmit}>\n                <input className=\"internal\" type=\"submit\" value=\"Confirm Deletion\" />\n            </form>\n            );\n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}>\n                {inside}\n            </div>\n        );\n    }\n}\n\n//DOC: Item 14: Inline button that, when clicked, allows the user to rename an item.\nclass RenameItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.clearField = this.clearField.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: \"Enter new item name\",\n        };\n    }\n\n    clearField() {\n        if (this.state.newVal===\"Enter new item name\")\n            this.setState({newVal: \"\"});\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        this.setState({\n            value: this.state.newVal,\n            active: false,\n        });\n\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n        const curModule = this.props.moduleTitle;\n        console.log(arrModules);\n        console.log(curModule);\n        for ( let i = 0; i < arrModules.length; ++i) {\n            var neededModule2;\n            if ( arrModules[i].title === curModule) {\n                neededModule2 = arrModules[i]; break; // finds needed module to edit\n            }\n            else\n                console.log(\"bope\");\n        }\n\n        const contents = neededModule2.contents;  // renames the corresponding item\n        const vark = neededModule2.vark;\n\n        let count = 0;\n        for ( let i = 0; i < contents.length; ++i) { //check we're not duplicating item names\n            let itemTemp = contents[i];\n            console.log(itemTemp);\n            if ( (itemTemp === this.state.newVal) /*&& (vark[i] === this.props.vark)*/) {\n                alert('You already have an item with that name!');\n                event.preventDefault();\n                return;\n            }\n        }\n\n        for ( let i = 0; i < contents.length; ++i) { //good, actually rename it now\n            let itemTemp = contents[i];\n            if ( (itemTemp === this.props.itemName) /*&& (vark[i] === this.props.vark)*/) {\n                contents[i] = this.state.newVal;\n            }\n        }\n\n        const newPush = this.props.modules; // record to database\n        console.log(newPush);\n\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }\n\n    render() {\n        var inside = (<p className=\"renamebutton\">&nbsp;&nbsp;<img src={darkrenameicon} height=\"15px\"/></p>);\n        if (this.state.active) {\n            inside = (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    <input className=\"whiteinternal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\n                </label>\n                <input className=\"whiteinternal\" type=\"submit\" value=\"Submit\" />\n            </form>\n            );\n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}>\n                {inside}\n            </div>\n        );\n    }\n}\n\n\n//DOC: Item 14: Inline button that, when clicked, allows the user to rename an item.\nclass DeleteItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: this.props.internal,\n        };\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        this.setState({\n            value: this.state.newVal,\n            active: false,\n        });\n\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n        const curModule = this.props.moduleTitle;\n        console.log(arrModules);\n        console.log(curModule);\n        for ( let i = 0; i < arrModules.length; ++i) {\n            var neededModule2;\n            if ( arrModules[i].title === curModule) {\n                neededModule2 = arrModules[i]; break; // finds needed module to edit\n            }\n            else\n                console.log(\"bope\");\n        }\n\n        const contents = neededModule2.contents;  // renames the corresponding item\n        const vark = neededModule2.vark;\n\n        for ( let i = 0; i < contents.length; ++i) { //good, actually rename it now\n            let itemTemp = contents[i];\n            if ( (itemTemp === this.props.itemName) /*&& (vark[i] === this.props.vark)*/) {\n                contents[i] = \"DELETE THAT YOU HOT DOG\";\n            }\n        }\n\n        const newPush = this.props.modules; // record to database\n        console.log(newPush);\n\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }\n\n    render() {\n        var inside = (<p className=\"renamebutton\">&nbsp;&nbsp;<img src={darkdeleteicon} height=\"15px\"/></p>);\n        if (this.state.active) {\n            inside = (\n            <form onSubmit={this.handleSubmit}>\n                <input className=\"internal\" type=\"submit\" value=\"Confirm Deletion\" />\n            </form>\n            );\n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}>\n                {inside}\n            </div>\n        );\n    }\n}\n\n//DOC: Item 13: A course item, that, when clicked, displays one of the course contents.\nclass ModuleContentItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    openModal() { //this registers the click\n        this.props.addVarkClicks(this.props.vark);\n\n        const header = this.props.name;\n        ModalManager.open(<MyModal itemName={this.props.name} firebase={this.props.firebase} text={header} modules={this.props.modules} activeCourse={this.props.activeCourse} moduleTitle={this.props.moduleTitle} internal={this.props.internal} vark={this.props.vark} onRequestClose={() => true} teacherMode={this.props.teacherMode} />);\n    }\n\n    render() {\n        let precede = this.props.vark;\n        var attribute = precede+\"modulecontentitem\"\n\n        var teacherMode = this.props.teacherMode;\n        var renameDisplay = (\n            <RenameItem\n                internal={this.props.name}\n                moduleTitle={this.props.moduleTitle}\n                activeCourse={this.props.activeCourse}\n                modules={this.props.modules}\n                vark={this.props.vark}\n                itemName={this.props.name}\n                firebase={this.props.firebase}\n            />\n        );\n        var deleteDisplay = (\n            <DeleteItem\n                internal={this.props.name}\n                moduleTitle={this.props.moduleTitle}\n                activeCourse={this.props.activeCourse}\n                modules={this.props.modules}\n                vark={this.props.vark}\n                itemName={this.props.name}\n                firebase={this.props.firebase}\n            />\n    );\n\n\n        var datacells = (\n            <div className={attribute} onClick={() => this.openModal()}>\n                {this.props.name}\n            </div>\n        );\n        if (teacherMode) {\n            datacells = (\n                <div className={attribute} >\n                    <div className=\"editflex\" >\n                        <div className=\"editflextext\" onClick={() => this.openModal()}>\n                            {this.props.name}\n                        </div>\n                        <div className=\"editflexicon\">\n                            {deleteDisplay}\n                        </div>\n                        <div className=\"editflexicon\">\n                            {renameDisplay}\n                        </div>\n                    </div>\n                    \n                </div>\n            );\n        }\n\n        return (\n            <div>\n                {datacells}\n            </div>\n        );\n    }\n}\n\n//DOC: Item 16: A button that allows the user (assumedly a teacher) to add an item to the module\nclass AddModuleContentItemItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    openModal() { //this registers the click\n        ModalManager.open(<MyModal itemName=\"add\" firebase={this.props.firebase} moduleTitle={this.props.moduleTitle} activeCourse={this.props.activeCourse} modules={this.props.modules} onRequestClose={() => true} teacherMode={true} addItemMode={true}/>);\n    }\n\n    render() {\n        var attribute = \"modulecontentitem\";\n\n        var inner = (<div>Add an item</div>);\n\n        return (\n            <div className={attribute} onClick={() => this.openModal()}>\n                {inner}\n            </div>\n        );\n    }\n}\n\n//DOC: Item 17: A button that allows the user (assumedly a teacher) to add a module to the course\nclass AddModuleItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.clearField = this.clearField.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: \"Enter Module Name\",\n        };\n    }\n\n    clearField() {\n        if (this.state.newVal===\"Enter Module Name\") {\n            this.setState({\n                newVal: \"\",\n            });\n        }\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update, courseID != classcode\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n        const moduleTitle = this.state.newVal;\n\n        //check if we already have a module with that name\n        let iteration;\n        for (iteration in arrModules) {\n            if (arrModules[iteration].title===moduleTitle) {\n                alert('You already have a module with that name!');\n                return;\n            }\n        }\n        \n        const blankModule =  \n        {\n            title: moduleTitle,\n            contents: [\"Example Item\",],\n            vark: ['A',],\n            internals: [\"https://youtu.be/e3RbWSfhlp4\",]\n        } // creates example blank module using module title\n\n        arrModules.push(blankModule);\n            \n        const newPush = arrModules.slice();\n\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n    }\n    \n    render() {\n        var inside = \n        // (this.state.active) ?\n        (\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <label>\n                        <input className=\"internal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\n                    </label>\n                    <input className=\"button\" type=\"submit\" value=\"Add a Module\" />\n                </form>\n                \n            </div>\n        ) \n        // : (<p className=\"addrenamebutton\">Add a Module</p>);\n\n        return (\n            <div className=\"addmoduleitem\">\n                <div className=\"renameitem\" onClick={() => this.onClick()}>\n                    {inside}\n                </div>\n            </div>\n        );\n    }\n}\n\n//DOC: Item 11: Displays an entire module, including all of its content items.\nfunction ModuleItem(props) {\n    const [active, setActive] = React.useState(props.active);\n\n    var attribute = active+\"moduleitem\";\n\n    var teacherMode = props.teacherMode;\n\n    if (teacherMode) {\n        attribute+=\"teacher\";\n    }\n\n    var addCourseItemItem = (<div />);\n    if (teacherMode) {\n        addCourseItemItem = (\n            <AddModuleContentItemItem\n                moduleTitle={props.name}\n                activeCourse={props.activeCourse}\n                modules={props.modules}\n                firebase={props.firebase}\n            />\n        );\n    }\n\n    var renameDisplay = (<div />);\n    if (teacherMode) {\n        renameDisplay = (\n            <RenameModule\n                internal={props.name}\n                moduleTitle={props.name}\n                activeCourse={props.activeCourse}\n                modules={props.modules}\n                firebase = {props.firebase}\n            />\n        );\n    }\n\n    var deleteDisplay = (<div />);\n    if (teacherMode) {\n        deleteDisplay = (\n            <DeleteModule\n                internal={props.name}\n                moduleTitle={props.name}\n                activeCourse={props.activeCourse}\n                modules={props.modules}\n                firebase = {props.firebase}\n            />\n        );\n    }\n\n    var topbar = (\n        <div className=\"moduletitle\" onClick={() => setActive(active===\"active\" ? \"\" : \"active\")}>\n            {props.name}\n        </div>\n    );\n    if (teacherMode) {\n        topbar = (\n            <div className=\"teachermoduletitle\" onClick={() => setActive(active===\"active\" ? \"\" : \"active\")}>\n                <div className=\"editflex\">\n                    <div className=\"editflextext\">\n                        {props.name}\n                    </div>\n                    <div className=\"editflexicon\">\n                        {deleteDisplay}\n                    </div>\n                    <div className=\"editflexicon\">\n                        {renameDisplay} \n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <div className={attribute} >\n                {topbar}\n                <div className=\"modulecontents\">\n                    {props.contents.map(\n                        contentitem =>\n                        (props.varkMode===\"All\" || props.varkMode===props.vark[props.contents.indexOf(contentitem)])\n                        ?\n                        (\n                            (contentitem!==\"DELETE THAT YOU HOT DOG\") ?\n                            (<ModuleContentItem\n                                name={contentitem}\n                                vark={props.vark[props.contents.indexOf(contentitem)]}\n                                internal={props.internals[props.contents.indexOf(contentitem)]}\n                                addVarkClicks={props.addVarkClicks}\n                                teacherMode={props.teacherMode}\n                                moduleTitle={props.name}\n                                activeCourse={props.activeCourse}\n                                modules={props.modules}\n                                firebase={props.firebase}\n                            />) : (null)\n                        )\n                        :\n                        (<div />)\n                    )}\n                    {addCourseItemItem}\n                </div>\n            </div>\n        </div>\n    );\n}\n\n//DOC: Item 10: Displays the entire VARK Profile\n\nfunction VarkProfile(props) {\n    const lineWidth = 60;\n    return (\n        <div className=\"varkprofile\">\n            <PieChart\n                style={{\n                    fontFamily:\n                    '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\n                    fontSize: '8px',\n                    height: \"150px\",\n                }}\n                data={[\n                    {\n                        color: 'red',\n                        title: 'V',\n                        value: props.Vcnt,\n                    },\n                    {\n                        color: 'blue',\n                        title: 'A',\n                        value: props.Acnt,\n                    },\n                    {\n                        color: 'green',\n                        title: 'R',\n                        value: props.Rcnt,\n                    },\n                    {\n                        color: 'purple',\n                        title: 'K',\n                        value: props.Kcnt,\n                    },\n                ]}\n                radius={PieChart.defaultProps.radius - 6}\n                lineWidth={60}\n                segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\n                animate\n                label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\n                labelPosition={100 - lineWidth / 2}\n                labelStyle={{\n                    fill: '#fff',\n                    opacity: 0.75,\n                    pointerEvents: 'none',\n                }}\n            />\n        </div>\n    );\n}\n//DOC: Item 8: Allows the user to filter which VARK-type of items to display\nclass Select extends React.PureComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    state = {\n      options: [\n        {\n            name: this.props.default,\n            value: \"All\",\n        },\n        {\n            name: 'Visual',\n            value: 'V',\n        },\n        {\n            name: 'Auditory',\n            value: 'A',\n        },\n        {\n            name: 'Reading/Writing',\n            value: 'R',\n        },\n        {\n            name: 'Kinesthetic',\n            value: 'K',\n        },\n      ],\n      value: '?',\n    };\n\n    handleChange = (event) => {\n      this.props.passState(event.target.value);\n      this.setState({ value: event.target.value });\n    };\n\n    render() {\n      const { options, value } = this.state;\n\n      return (\n          <div className=\"varkfilter\">\n            <React.Fragment>\n                <select name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\n                    {options.map(item => (\n                    <option className=\"option\" key={item.value} value={item.value}>\n                        &nbsp;&nbsp;&nbsp;{item.name}\n                    </option>\n                    ))}\n                </select>\n            </React.Fragment>\n          </div>\n      );\n    }\n}\n\n//DOC: Item 5: The entire right half of the screen, which can change its display depending on whether we want to show the contents of the course, with all the modules; or the screen that lets us enroll in a course; or the screen that lets us create a course.\nclass MainPanel extends React.Component {\n    constructor (props){\n        super(props);\n        this.state = {\n            varkselection: \"All\",\n            copied: false,\n        };\n        this.handleRemove = this.handleRemove.bind(this);\n        this.handleFilter = this.handleFilter.bind(this);\n        this.filterCallback = this.filterCallback.bind(this);\n        this.getCurrentUserEmail = this.getCurrentUserEmail.bind(this);\n        this.getTeacherEmail = this.getTeacherEmail.bind(this);\n        this.getTeacherName = this.getTeacherName.bind(this);\n        this.codeToName = this.codeToName.bind(this);\n    }\n    componentDidMount() {\n        this.props.firebase.courses().on('value', snapshot => {\n            const coursesObject = snapshot.val();\n            const coursesList = Object.keys(coursesObject).map(key => ({\n                ...coursesObject[key],\n                appID: key,\n            }));\n            localStorage.setItem('courses', JSON.stringify(coursesList));\n        });\n    }\n\n    handleRemove(event) {\n        this.props.removeCourse(this.props.activeCourse);\n    }\n\n    handleFilter(theState) {\n        this.setState({varkselection: theState}, () => this.filterCallback());\n    }\n\n    filterCallback() {\n        this.render();\n    }\n\n    getTeacherEmail(nameOfCourse) { // use code here instead\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var teacher;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === nameOfCourse) {\n                teacher = course.nteacher;\n            }\n        }\n        // should be returning correct email. If not, try Object.values(course.nteacher) instead\n        return teacher;\n    }\n\n    getTeacherName(teacherEmail) {\n        //TODO: return teacher name based on teacher email\n        return \"Example Teacher Name\";\n    }\n\n    getCurrentUserEmail() {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        const curEmail = Object.values(usr).slice()[1]; // returns string of current user's email\n        return curEmail;\n    }\n\n    codeToName(code) {\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === code) {\n                return course.CourseName;\n            }\n        }\n    }\n\n    render() { //active: \"\" means the module is minimized, \"active\" means its expanded\n        var showModules = true;\n        var showVarkProfile = true;\n\n        var courseid = (this.props.activeCourse);\n\n        var teacherMode = this.getTeacherEmail(this.props.activeCourse)===this.getCurrentUserEmail();\n\n        var welcomeMsg;\n        var unenroll;\n        var joinCode;\n        var filter;\n        var teacherReveal;\n        var showRest = true;\n        var teacherEmail = this.getTeacherEmail(this.props.activeCourse);\n        if (this.props.activeCourse===\"none\") {\n            welcomeMsg = \"No course selected.\";\n            teacherReveal = \"\";\n            joinCode = (\n                <div />\n            );\n            unenroll = (\n                <div />\n            );\n            showVarkProfile = false;\n            filter = (\n                <div />\n            );\n            showRest = false;\n        }\n        else {\n            welcomeMsg = \"Welcome to \" + this.codeToName(this.props.activeCourse); //CodeToName\n            let teachermsg = \"Taught by \" + this.getTeacherName(this.getTeacherEmail(this.props.activeCourse));\n            teacherReveal = teachermsg;\n            unenroll = (\n                <div className=\"managecontent\">\n                    <br />\n                    <h3>\n                        Unenroll from this course\n                    </h3>\n                    <center>\n                    <div className=\"removecoursebutton\" onClick={this.handleRemove}>\n                        Unenroll\n                    </div>\n                    </center>\n                    <br /><br />\n                </div>\n            );\n            filter = (<Select passState={this.handleFilter} default={\"Show all VARK types\"}/>);\n            if (teacherMode) {\n                joinCode = (\n                    <div className=\"teachernotice\">\n                        <p><b>Join Course ID:&nbsp;&nbsp;&nbsp;</b> {courseid}</p>\n                    </div>\n                );\n                unenroll = (\n                    <div />\n                );\n                filter = (<div />);\n            }\n            if (welcomeMsg === \"Welcome to Welcome\") {\n                welcomeMsg = \"Select or add a course on the left to get started.\"\n                showModules = false;\n                unenroll = (\n                    <div />\n                );\n                joinCode = (\n                    <div />\n                );\n                showVarkProfile = false;\n                filter = (\n                    <div />\n                );\n                showRest = false;\n            }\n        }\n\n        var addModuleItem = (<div />);\n        if (teacherMode) {\n            addModuleItem = (\n                <AddModuleItem\n                    internal=\"\"\n                    activeCourse={this.props.activeCourse}\n                    modules={this.props.modules}\n                    firebase={this.props.firebase}\n                    changeActiveCourse={this.props.changeActiveCourse}\n                />\n            );\n        }\n\n        var viewModuleList = (<div />);\n        var editModuleList = (<div />);\n        if (showModules) {\n            viewModuleList = (\n                <div className=\"modulelist\">\n                    {\n                        Object.values(this.props.modules).map(module =>\n                            (module.title!==\"DELETE THAT YOU HOT DOG\") ? \n                            (<ModuleItem\n                                name={module.title}\n                                contents={module.contents}\n                                vark={module.vark}\n                                internals={module.internals}\n                                active=\"\"\n                                username={this.props.username}\n                                addVarkClicks={this.props.addVarkClicks}\n                                varkMode={this.state.varkselection}\n                                teacherMode={false}\n                                activeCourse={this.props.activeCourse}\n                                modules={this.props.modules}\n                                firebase={this.props.firebase}\n                            />) : (null)\n                        )\n                    }\n                </div>\n            );\n            editModuleList = (\n                <div className=\"modulelist\">\n                    {\n                        Object.values(this.props.modules).map(module =>\n                            (module.title!==\"DELETE THAT YOU HOT DOG\") ? \n                            (<ModuleItem\n                                name={module.title}\n                                contents={module.contents}\n                                vark={module.vark}\n                                internals={module.internals}\n                                active=\"\"\n                                username={this.props.username}\n                                addVarkClicks={this.props.addVarkClicks}\n                                varkMode={this.state.varkselection}\n                                teacherMode={true}\n                                activeCourse={this.props.activeCourse}\n                                modules={this.props.modules}\n                                firebase={this.props.firebase}\n                            />) : (null)\n                        )\n                    }\n                    {addModuleItem}\n                </div>\n            );\n        }\n\n        //counts the number of each vark item in modules\n        var Vcnt = 0;\n        var Acnt = 0;\n        var Rcnt = 0;\n        var Kcnt = 0;\n        var module;\n        var varkLetter;\n        for (module of this.props.modules) {\n            for (varkLetter of module.vark) {\n                if (varkLetter===\"V\") {\n                    Vcnt++;\n                }\n                if (varkLetter===\"A\") {\n                    Acnt++;\n                }\n                if (varkLetter===\"R\") {\n                    Rcnt++;\n                }\n                if (varkLetter===\"K\") {\n                    Kcnt++;\n                }\n            }\n        }\n\n        var varkProfile = (<div />);\n        if (showVarkProfile) {\n            varkProfile = (\n                <VarkProfile\n                    Vcnt={Vcnt}\n                    Acnt={Acnt}\n                    Rcnt={Rcnt}\n                    Kcnt={Kcnt}\n                />\n            );\n        }\n\n        var mailtostring = \"mailto:\" + teacherEmail;\n\n        var contactTeacher = (teacherMode) ? (null) : (\n            <div className=\"managecontent\">\n                <center>\n                    <br />\n                    <h3>\n                        {teacherReveal} \n                    </h3>\n                    <p className=\"smallparagraph\">\n                        {teacherEmail}<br /><br />\n                    </p>\n                    <a className=\"smalllinkbutton\" href={mailtostring}>Contact</a>\n                    <br /><br />\n                </center>\n            </div>\n        );\n\n        var joinClassCode = (teacherMode) ? (\n            <div className=\"managecontent\">\n                <center>\n                    <br />\n                    <h3>\n                        Course Join Code\n                    </h3>\n                    <p className=\"smallparagraph\">\n                        {this.props.activeCourse}<br /><br />\n                    </p>\n                    <CopyToClipboard text={this.props.activeCourse} onCopy={() => this.setState({copied: true})}>\n                        <a className=\"smalllinkbutton\">{(this.state.copied) ? (\"Copied!\") : (\"Copy to Clipboard\")}</a>\n                    </CopyToClipboard>\n                    <br /><br />\n                </center>\n            </div>\n        ) : (null);\n\n        var manageStudents = (teacherMode) ? ( //TODO: ACTUALLY LET THEM MANAGE STUDENTS ENROLLED HERE\n            <div className=\"managecontent\">\n                <center>\n                    <h1>Manage Students here</h1>\n                </center>\n            </div>\n        ) : (null);\n\n        var ModulesTab = (teacherMode) ? (<Tab>View Modules</Tab>) : (<Tab>Modules</Tab>);\n        var EditModulesTab = (teacherMode) ? (<Tab>Edit Modules</Tab>) : (null);\n        var OtherTab = (teacherMode) ? (<Tab>Manage Course</Tab>) : (<Tab>Other</Tab>);\n        \n        var ViewModulesPanel = (\n            <TabPanel>\n                {filter}\n                {viewModuleList}\n            </TabPanel>\n        );\n        var EditModulesPanel = (teacherMode) ? (\n            <TabPanel>\n                {filter}\n                {editModuleList}\n            </TabPanel>\n        ) : (null);\n\n        var VarkPanel = (\n            <TabPanel>\n                {joinClassCode}\n                <br />\n                {contactTeacher}\n                {manageStudents}\n                <br />\n                <div className=\"managecontent\">\n                    <center>\n                        <h3><br /> <br />Course VARK Profile</h3> \n                        <p className=\"smallparagraph\">Every course has a different profile,<br />composed of different types and numbers of items.</p> <br />\n                        <table className=\"offsetleft\">\n                            <tr>\n                                <td>\n                                    {varkProfile}\n                                </td>\n                                <td>\n                                    <p className=\"smallparagraph\" style={{color: \"red\"}}>Visual</p>\n                                    <p className=\"smallparagraph\" style={{color: \"blue\"}}>Auditory</p>\n                                    <p className=\"smallparagraph\" style={{color: \"green\"}}>Reading/Writing</p>\n                                    <p className=\"smallparagraph\" style={{color: \"purple\"}}>Kinesthetic</p>\n                                </td>\n                            </tr>\n                        </table>\n                    </center>\n                    <center>\n                        <br />\n                        <p className=\"smallparagraph\">To learn more about the different learning models,<br /> visit <a className=\"nonformatted\" href=\"https://vark-learn.com/\">the VARK site</a>.</p>\n                        <br /> <br />\n                    </center>\n                </div>\n                <br />\n                {unenroll}\n                <br /><br /><br /><br /><br />\n            </TabPanel>\n        );\n\n        var restOfPage = (showRest) ? (\n            <Tabs>\n                <TabList>\n                    {ModulesTab}\n                    {EditModulesTab}\n                    {OtherTab}\n                </TabList>\n                {ViewModulesPanel}\n                {EditModulesPanel}\n                {VarkPanel}\n            </Tabs>\n        ) : (<div />);\n\n\n        return (\n            <div className=\"mainpanel\">\n                <h1 className=\"courseheader\">\n                    {welcomeMsg}\n                </h1>\n                \n                {restOfPage}\n                <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br />\n            </div>\n        )\n    }\n}\n\n//DOC: The form that allows you to create a class.\nclass CreateForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: ''};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    \n        let newString = event.target.value.substring(0, 20);\n        this.setState({value: newString});  \n    }\n\n    handleSubmit(event) {\n        this.props.createCourse(this.state.value);\n        event.preventDefault();\n    }\n\n    render() {\n        let charCount = 20-this.state.value.length;\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Enter the name for your new course below<br /><br />\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n                </label>\n                <p className=\"reallysmallparagraph\">{charCount} characters remaining</p>\n                <br /><br />\n                <input type=\"submit\" value=\"Submit\" />\n                <br />\n                \n            </form>\n        );\n    }\n}\n\n//DOC: The form that allows you to enroll in a class.\nclass NameForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: ''};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n\n    handleSubmit(event) { //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n        let shouldAddCourse = false;\n\n        //check that the course is available on the database. If not, throw an error to the user\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var needed;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.state.value) {\n                shouldAddCourse = true;\n                needed = course.nclasscode;\n            }\n        }\n\n        if (shouldAddCourse) {\n            this.props.addCourse(needed);\n        } else {\n            alert('Sorry, class not found');\n        }\n        event.preventDefault();\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Enter the course code below<br /><br />\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\n                <br /><br />\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n        );\n    }\n}\n\n//DOC: The mainpanel view that allows you to create a class.\nfunction CreateCoursePanel(props) {\n    return (\n        <div className=\"mainpanel\">\n            <div className=\"addcourseview\">\n                <div className=\"addcoursetitle\">\n                    <b>Create a course</b>\n                </div>\n                <CreateForm username={props.username} courses={props.courses} createCourse={props.createCourse}/>\n            </div>\n        </div>\n    );\n}\n\n//DOC: The mainpanel view that allows you to add a class\nfunction AddCoursePanel(props) {\n    return (\n        <div className=\"mainpanel\">\n            <div className=\"addcourseview\">\n                <div className=\"addcoursetitle\">\n                    <b>Enroll in a course</b>\n                </div>\n                <NameForm username={props.username} courses={props.courses} addCourse={props.addCourse}/>\n            </div>\n        </div>\n    );\n}\n\n//DOC: The main container for everything on the screen, that also stores most global data in its state.\nclass Container extends React.Component { \n    constructor(props) {\n        super(props);\n\n        //bind the state setting functions to the current class\n        this.changeActiveCourse = this.changeActiveCourse.bind(this);\n        this.addCourseMode = this.addCourseMode.bind(this);\n        this.createCourseMode = this.createCourseMode.bind(this);\n        this.toggleHidden = this.toggleHidden.bind(this);\n\n        this.state = {\n            arrCourses: props.courses,\n            activeCourse: \"none\", //to be updated with the current open course code\n            username: props.name,\n            mainPanelMode: 0, //0 means modules view (default), 1 means add-course view, 2 means create-course view\n            varkClicks: props.varkClicks,\n            hidden: false,\n        }\n    }\n\n    changeActiveCourse(courseCode) {\n        this.setState({\n            mainPanelMode: 0,\n            activeCourse: courseCode,\n        }, () => {\n            this.render();\n        });\n\n        //window.location = window.location.href.substring(0, window.location.href.indexOf(\"#\")) + '#' + courseCode;\n    }\n\n    addCourseMode() { //switches main panel view to addCourseMode\n        this.setState({\n            mainPanelMode: 1\n        });\n        this.render(); //force React to rerender\n    }\n\n    createCourseMode() { //switches main panel view to createCourseMode\n        this.setState({\n            mainPanelMode: 2\n        });\n        this.render(); //force React to rerender\n    }\n\n    addCourse = (courseCode) => { //actually adds the course\n        var newCourses = this.state.arrCourses.slice();\n        if (newCourses.includes(courseCode)) {\n            alert(\"You've already enrolled in this course!\");\n        }\n        else {\n            newCourses.push(courseCode);\n            this.setState({\n                arrCourses: newCourses.slice(),\n            }, () => {this.changeActiveCourse(courseCode);});\n            const usr = JSON.parse(localStorage.getItem('authUser'));\n            //console.log(Object.values(usr).slice()[2]);\n            localStorage.setItem('authUser', JSON.stringify(usr));\n            //console.log(Object.values(usr).slice()[2]);\n            this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n                courses: newCourses.slice(),\n            });\n        }\n    }\n\n    createCourse = (nameOfCourse) => { //actually adds the course\n        // alert(\"Created \" + nameOfCourse);\n        //TODO: generate classcode, make the course with nameOfCourse, add it to the db\n        // use getModules(nameOfCourse) to get arbitrary items\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        const email = Object.values(usr).slice()[1].toString();\n        const username = Object.values(usr).slice()[4];\n        var hash1 = 0;\n        var hash2 = 0;\n        for (let i = 0; i < email.length; i++) {\n            const char = email.charCodeAt(i);\n            hash1 = ((hash1 << 5) - hash1) + char;\n            hash1 = hash1 & hash1;\n        }\n        for (let i = 0; i < nameOfCourse.length; i++) {\n            const char = nameOfCourse.charCodeAt(i);\n            hash2 = ((hash2 << 5) - hash2) + char;\n            hash2 = hash2 & hash2;\n        }\n        const rand = Math.round(Math.random()*10000);\n        var classCode = hash1 + \"\" + hash2 + rand; // <-- set this to the class code\n\n        const modulesT = this.getModules(-1);\n        const tempName = username + nameOfCourse + classCode;\n        this.props.firebase.course(tempName).update({\n            CourseName: nameOfCourse,\n            modules: modulesT,\n            nclasscode: classCode,\n            nteacher: email,\n        })\n\n        //done for you: at the end, enroll the person in their own course by calling this.addCourse(classCode);\n        this.addCourse(classCode);\n    }\n\n    addVarkClicks = (varkCharacter) => {\n        var newVark = this.state.varkClicks.slice();\n        newVark.push(varkCharacter);\n        this.setState({\n            varkClicks: newVark.slice(),\n        });\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        //console.log(Object.values(usr).slice()[6]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        //console.log(Object.values(usr).slice()[6]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            wvarkclicks: newVark.slice(),\n        });\n    }\n\n    removeCourse = (courseCode) => {\n        var newCourses = this.state.arrCourses.slice();\n        var newnewCourses = [];\n        newCourses.forEach(element => {\n            if (!(element===courseCode)) {\n                newnewCourses.push(element);\n            }\n        });\n        newCourses = newnewCourses.slice();\n        this.setState({\n            arrCourses: newCourses.slice(),\n        }, () => {this.changeActiveCourse(this.state.arrCourses.slice()[0]);});\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        //console.log(Object.values(usr).slice()[2]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        //console.log(Object.values(usr).slice()[2]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            courses: newCourses.slice(),\n        });\n\n        window.location.reload();\n        window.location.reload(); \n    }\n\n    getModules(name) {\n        if (name===-1) {\n            return [\n                {\n                    title: \"Example Module\",\n                    contents: [\"Example Item\",],\n                    vark: ['V',],\n                    internals: [\"https://youtu.be/e3RbWSfhlp4\",]\n                },\n            ];\n        }\n        const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n        if ( name === \"none\")\n            return []\n\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n\n\n            if ( course.nclasscode === name) { //now we've retrieved the correct course to display\n                //here we need to return all of the modules in that course in an array\n\n                var arrayOfModules = (Object.values(course.modules));\n                for (let j = 0, len2 = arrayOfModules.length; j<len2; ++j) {\n                    arrayOfModules[j].contents = (Object.values(arrayOfModules[j].contents));\n                    arrayOfModules[j].vark = (Object.values(arrayOfModules[j].vark));\n                    arrayOfModules[j].internals = (Object.values(arrayOfModules[j].internals));\n                }\n                return arrayOfModules;\n\n                // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [\n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                // ];\n            }\n            else{\n                console.log(\"whoops\");\n            }\n        }\n    }\n\n    toggleHidden() {\n        this.setState({\n            hidden: !this.state.hidden,\n        });\n    }\n\n    render() {\n        var mainpanel;\n        if (this.state.mainPanelMode===0) {\n            mainpanel = <MainPanel firebase={this.props.firebase} username={this.state.username} activeCourse={this.state.activeCourse} modules={this.getModules(this.state.activeCourse)} removeCourse={this.removeCourse} addVarkClicks={this.addVarkClicks}/>\n        } else if (this.state.mainPanelMode===1) {\n            mainpanel = <AddCoursePanel username={this.state.username} currentCourses={this.state.arrCourses} addCourse={this.addCourse}/>\n        } else if (this.state.mainPanelMode===2) {\n            mainpanel = <CreateCoursePanel username={this.state.username} currentCourses={this.state.arrCourses} createCourse={this.createCourse}/>\n        }\n\n        var leftelement = (<div />);\n        if (!this.state.hidden) {\n            leftelement=(\n                <div className=\"left-element\">\n                    <ResizableBox width={300} height={10} axis={'x'} resizeHandles={['ne']}\n                    minConstraints={[150, 10]} maxConstraints={[400, 10]} />\n                    <Sidebar\n                        username={this.state.username}\n                        activeCourse={this.state.activeCourse}\n                        arrCourses={this.state.arrCourses}\n                        changeActiveCourse={this.changeActiveCourse}\n                        addCourseMode={this.addCourseMode}\n                        createCourseMode={this.createCourseMode}\n                    />\n                </div>\n            );\n        }\n\n        var button = (this.state.hidden) ? (\n            <button className=\"smallsidebartoggle\" onClick={this.toggleHidden}>\n                <img className=\"flipimage\" src={backarrow} width=\"12px\"/> \n            </button>\n        ) : (\n            <button className=\"sidebartoggle\" onClick={this.toggleHidden}>\n                <img src={backarrow} width=\"12px\"/> \n            </button>\n        );\n\n        return (\n            <div className=\"App\">\n                <div className=\"container\">\n                    \n                    {leftelement}\n                    {button}\n                    <div className=\"right-element\">\n                        {mainpanel}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n//DOC: Renders and returns a Container, and initializes it with proper defaults.\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.state = {\n            username: Object.values(usr).slice()[4],\n            email: Object.values(usr).slice()[1],\n            courses: Object.values(usr).slice()[2],\n            varkClicks: Object.values(usr).slice()[6],\n        }\n    }\n    componentDidMount() {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.props.firebase.courses().on('value', snapshot => {\n            const coursesObject = snapshot.val();\n            const coursesList = Object.keys(coursesObject).map(key => ({\n                ...coursesObject[key],\n                appID: key,\n            }));\n            localStorage.setItem('courses', JSON.stringify(coursesList));\n            //console.log(JSON.parse(localStorage.getItem('courses')));\n            this.setState({\n                username: Object.values(usr).slice()[4],\n                email: Object.values(usr).slice()[1],\n                courses: Object.values(usr).slice()[2],\n\n            });\n        });\n    }\n\n    render() {\n        return ( //when login is implemented, it should create an app with the appropriate username passed in\n            <Container name={this.state.username} courses={this.state.courses} firebase={this.props.firebase} varkClicks={this.state.varkClicks} />\n        );\n    }\n}\n\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);"]},"metadata":{},"sourceType":"module"}