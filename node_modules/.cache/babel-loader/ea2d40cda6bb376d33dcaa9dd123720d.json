{"ast":null,"code":"var _jsxFileName = \"/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js\";\nimport React from 'react';\nimport './App.css';\nimport { withAuthorization } from '../Session';\nimport { Modal, ModalManager, Effect } from 'react-dynamic-modal';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport 'react-contexify/dist/ReactContexify.min.css';\nimport * as firebase from 'firebase';\nimport backarrow from './backarrow.png';\n\nrequire('@firebase/database');\n\nfunction CourseListItem(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courselistitem\",\n    onClick: () => {\n      props.changeActiveCourse(props.name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, props.name);\n}\n\nfunction AddCourseItem(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseitem\",\n    onClick: props.addCourseMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, \"Enroll\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction CreateCourseItem(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"createcourseitem\",\n    onClick: props.createCourseMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Create\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }));\n}\n\nclass Sidebar extends React.Component {\n  //the entire left sidebar\n  constructor(props) {\n    super(props);\n\n    this.changeActiveCourse = name => {\n      this.props.changeActiveCourse(name);\n    };\n\n    this.addCourseMode = () => {\n      this.props.addCourseMode();\n    };\n\n    this.createCourseMode = () => {\n      this.props.createCourseMode();\n    };\n\n    this.state = {\n      username: props.username,\n      activeCourse: props.activeCourse,\n      arrCourses: props.arrCourses\n    };\n  } //utility functions to pass info up to container\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      width: \"88%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(AddCourseItem, {\n      addCourseMode: this.addCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"textalignright\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CreateCourseItem, {\n      createCourseMode: this.createCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courselist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, this.props.arrCourses.length <= 1 ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"dividertext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 63\n      }\n    }, \"You're not enrolled in any courses yet.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 129\n      }\n    }), \"Enroll or teach using the buttons above.\") : this.props.arrCourses.map(course => course === \"Welcome\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 243\n      }\n    }) : /*#__PURE__*/React.createElement(CourseListItem, {\n      name: course,\n      active: this.props.activeCourse === course ? \"active\" : \"\",\n      changeActiveCourse: this.changeActiveCourse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 255\n      }\n    })))));\n  }\n\n}\n\nclass MyModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.filterCallback = this.filterCallback.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleItemNameChange = this.handleItemNameChange.bind(this);\n    this.state = {\n      varkselection: null,\n      value: this.props.internal,\n      itemName: \"\" //modules: this.props.modules.slice(), //modify this.state.modules //push the entirety of this.state.modules up to the database\n\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleItemNameChange(event) {\n    this.setState({\n      itemName: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    if (this.props.addItemMode) {\n      const allCourses = JSON.parse(localStorage.getItem('courses'));\n      var courseID;\n\n      for (let i = 0, len = allCourses.length; i < len; ++i) {\n        var course = allCourses[i];\n\n        if (course.CourseName === this.props.activeCourse) {\n          courseID = course.appID; // identifies current course child name to update\n\n          break;\n        }\n      }\n\n      const arrModules = this.props.modules;\n      const curModule = this.props.moduleTitle;\n\n      for (let i = 0; i < arrModules.length; ++i) {\n        var neededModule;\n\n        if (arrModules[i].title === curModule) {\n          neededModule = arrModules[i];\n          break; // finds needed module to edit\n        }\n      }\n\n      const contents = neededModule.contents; // add your new items\n\n      const internals = neededModule.internals;\n      const vark = neededModule.vark;\n      contents.push(this.state.itemName);\n      internals.push(this.state.value);\n      vark.push(this.state.varkselection);\n      const newPush = this.props.modules;\n      this.props.firebase.courses().child(courseID).update({\n        modules: newPush.slice()\n      });\n    } else {\n      const allCourses = JSON.parse(localStorage.getItem('courses'));\n      var courseID;\n\n      for (let i = 0, len = allCourses.length; i < len; ++i) {\n        var course = allCourses[i];\n\n        if (course.CourseName === this.props.activeCourse) {\n          courseID = course.appID; // identifies current course child name to update\n\n          break;\n        }\n      }\n\n      const arrModules = this.props.modules;\n      const curModule = this.props.moduleTitle;\n\n      for (let i = 0; i < arrModules.length; ++i) {\n        var neededModule;\n\n        if (arrModules[i].title === curModule) {\n          neededModule = arrModules[i];\n          break; // finds needed module to edit\n        }\n      }\n\n      const contents = neededModule.contents; // modify the corresponding item\n\n      const internals = neededModule.internals;\n      const vark = neededModule.vark;\n\n      for (let i = 0; i < contents.length; ++i) {\n        let itemTemp = contents[i];\n\n        if (itemTemp === this.props.itemName && vark[i] === this.props.vark) {\n          internals[i] = this.state.value;\n        }\n      }\n\n      const newPush = this.props.modules; // record to database \n\n      console.log(newPush);\n      this.props.firebase.courses().child(courseID).update({\n        modules: newPush.slice()\n      });\n    }\n\n    ModalManager.close();\n    event.preventDefault();\n  }\n\n  handleFilter(theState) {\n    //handles selection of the dropdown VARK by the teacher\n    this.setState({\n      varkselection: theState\n    }, () => this.filterCallback());\n  }\n\n  filterCallback() {\n    //callback from handleFilter\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      var neededModule;\n\n      if (arrModules[i].title === curModule) {\n        neededModule = arrModules[i];\n        break; // finds needed module to edit\n      }\n    }\n\n    const contents = neededModule.contents; // modify the corresponding item\n\n    const vark = neededModule.vark;\n\n    for (let i = 0; i < contents.length; ++i) {\n      let itemTemp = contents[i];\n\n      if (itemTemp === this.props.itemName) {\n        vark[i] = this.state.varkselection;\n      }\n    }\n\n    const newPush = this.props.modules; // record to database \n\n    console.log(newPush);\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    this.render();\n  }\n\n  render() {\n    const {\n      text,\n      onRequestClose\n    } = this.props;\n    var internalDisplay = \"\";\n    var link = this.props.internal;\n\n    if (this.props.teacherMode) {\n      if (this.props.addItemMode) {\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 47\n          }\n        }), /*#__PURE__*/React.createElement(\"h1\", {\n          style: {\n            color: \"#003459\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }\n        }, \"Create an item\"), /*#__PURE__*/React.createElement(Select, {\n          passState: this.handleFilter,\n          default: \"Choose a VARK type\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 37\n          }\n        }, \"Enter the item name:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.itemName,\n          onChange: this.handleItemNameChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 37\n          }\n        }))), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 37\n          }\n        }, \"Enter the link to the item:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 43\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 33\n          }\n        }))));\n        return (\n          /*#__PURE__*/\n          //big modal\n          React.createElement(Modal, {\n            style: {\n              overlay: {\n                position: 'fixed',\n                top: -150,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 99999999,\n                overflow: 'hidden',\n                perspective: 1300,\n                backgroundColor: 'rgba(0, 0, 0, 0.3)'\n              },\n              content: {\n                position: 'relative',\n                margin: '15% auto',\n                width: '60%',\n                height: '600px',\n                border: '1px solid rgba(0, 0, 0, .2)',\n                background: '#fff',\n                borderRadius: '4px',\n                outline: 'none',\n                boxShadow: '0 5px 10px rgba(0, 0, 0, .3)',\n                textAlign: 'center',\n                overflow: 'hidden'\n              }\n            },\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 21\n            }\n          }, internalDisplay)\n        );\n      } else {\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          style: {\n            fontSize: \"xx-large\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 33\n          }\n        }, \"Edit this item\"), /*#__PURE__*/React.createElement(Select, {\n          passState: this.handleFilter,\n          default: \"Choose a VARK type\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 39\n          }\n        }), /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 41\n          }\n        }, \"Enter the link to the item:\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 47\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 37\n          }\n        }))));\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 25\n            }\n          }, internalDisplay))\n        );\n      }\n    } else {\n      if (\"VARK\".includes(this.props.vark) && link.includes(\"google\")) {\n        if (link.includes(\"/edit?usp=sharing\")) {\n          //standardize on \"view\" as the thing to replace, since GDrive is gaey and some view-only links still have edit in the link\n          link = link.substring(0, link.indexOf(\"/edit?usp=sharing\")) + \"/view?usp=sharing\";\n        }\n\n        if (link.includes(\"/view?usp=sharing\")) {\n          //if its a google drive shared file\n          link = link.substring(0, link.indexOf(\"/view?usp=sharing\")) + \"/preview\"; //make it an embeddable preview\n        }\n\n        if (link.includes(\"/viewform\")) //if its a google form/quiz\n          link += \"?embedded=true\"; //embed it\n\n        var beforeCode = \"<iframe src=\\\"\";\n        var afterCode = \"\\\" width=\\\"100%\\\" height=\\\"750\\\" />\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 44\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //big modal\n          React.createElement(Modal, {\n            style: {\n              overlay: {\n                position: 'fixed',\n                top: -200,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 99999999,\n                overflow: 'hidden',\n                perspective: 1300,\n                backgroundColor: 'rgba(0, 0, 0, 0.3)'\n              },\n              content: {\n                position: 'relative',\n                margin: '15% auto',\n                width: '90%',\n                height: '770px',\n                border: '1px solid rgba(0, 0, 0, .2)',\n                background: '#fff',\n                borderRadius: '4px',\n                outline: 'none',\n                boxShadow: '0 5px 10px rgba(0, 0, 0, .3)',\n                textAlign: 'center',\n                overflow: 'hidden'\n              }\n            },\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }\n          }, internalDisplay)\n        );\n      } else if (link.includes(\"youtube\") || link.includes(\"youtu.be\")) {\n        if (link.includes(\"youtu.be\")) link = link.substring(0, link.indexOf(\"youtu.be\")) + \"youtube.com/watch?v=\" + link.substring(link.indexOf(\"be/\") + 3, link.length);\n        if (link.includes(\"youtube\")) link = link.substring(0, link.indexOf(\"/watch?v=\")) + \"/embed/\" + link.substring(link.indexOf(\"v=\") + 2, link.length);\n        var beforeCode = \"<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"\";\n        var afterCode = \"\\\" frameBorder=\\\"0\\\"\\n\" + \"allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\"\\n\" + \"allowFullScreen></iframe>\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 36\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            style: {\n              maxHeight: \"50px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            id: \"backbutton\",\n            onClick: ModalManager.close,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: backarrow,\n            alt: \"Return\",\n            height: \"15px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 94\n            }\n          }))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: 100\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 37\n            }\n          }, internalDisplay)))))\n        );\n      } else {\n        //just create a button and insert the link as the button's destination\n        var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n        var afterCode = \"\\\">Click here to open content in new tab</a>\";\n        var code = beforeCode + link + afterCode;\n        internalDisplay = /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: code\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 36\n          }\n        });\n        return (\n          /*#__PURE__*/\n          //small modal\n          React.createElement(Modal, {\n            className: \"modaldialog\",\n            onRequestClose: onRequestClose,\n            effect: Effect.ScaleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"modaldialog\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            style: {\n              maxHeight: \"50px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            id: \"backbutton\",\n            onClick: ModalManager.close,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: backarrow,\n            alt: \"Return\",\n            height: \"15px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 94\n            }\n          }))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 37\n            }\n          }, internalDisplay)))))\n        );\n      }\n    }\n  }\n\n}\n\nclass RenameModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: this.props.internal\n    };\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal\n    });\n\n    if (this.props.moduleTitle === \"New Module\") {} //inside of this if statement, it means that the module doesn't actually exist on the database at all yet. We need to make one.\n    //TODO: make a new module with this.state.newVal as its name.\n    //To help you, you have:\n    //this.props.activeCourse which is the currently active course\n    //this.props.modules which contains all the current modules\n    //this.props.firebase to let you access firebase\n    // this will rename the current module\n\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      if (arrModules[i].title === curModule) {\n        arrModules[i].title = this.state.newVal; // sets the new name\n      }\n    }\n\n    const newPush = this.props.modules; // push to firebase\n\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 23\n      }\n    }, \"[Rename]\");\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.newVal,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n}\n\nclass RenameItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      value: this.props.internal,\n      active: false,\n      newVal: this.props.internal\n    };\n  }\n\n  onClick() {\n    this.setState({\n      active: true\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      newVal: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      value: this.state.newVal\n    });\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var courseID;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === this.props.activeCourse) {\n        courseID = course.appID; // identifies current course child name to update\n\n        break;\n      }\n    }\n\n    const arrModules = this.props.modules;\n    const curModule = this.props.moduleTitle;\n    console.log(arrModules);\n    console.log(curModule);\n\n    for (let i = 0; i < arrModules.length; ++i) {\n      var neededModule2;\n\n      if (arrModules[i].title === curModule) {\n        neededModule2 = arrModules[i];\n        break; // finds needed module to edit\n      } else console.log(\"bope\");\n    }\n\n    const contents = neededModule2.contents; // renames the corresponding item\n\n    const vark = neededModule2.vark;\n\n    for (let i = 0; i < contents.length; ++i) {\n      let itemTemp = contents[i];\n\n      if (itemTemp === this.props.itemName && vark[i] === this.props.vark) {\n        contents[i] = this.state.newVal;\n      }\n    }\n\n    const newPush = this.props.modules; // record to database\n\n    console.log(newPush);\n    this.props.firebase.courses().child(courseID).update({\n      modules: newPush.slice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    var inside = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"renamebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 23\n      }\n    }, \"[Rename]\");\n\n    if (this.state.active) {\n      inside = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.newVal,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"smallbutton\",\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"renameitem\",\n      onClick: () => this.onClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 13\n      }\n    }, inside);\n  }\n\n}\n\nclass ModuleContentItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  openModal() {\n    //this registers the click\n    this.props.addVarkClicks(this.props.vark);\n    const header = this.props.name;\n    ModalManager.open( /*#__PURE__*/React.createElement(MyModal, {\n      itemName: this.props.name,\n      firebase: this.props.firebase,\n      text: header,\n      modules: this.props.modules,\n      activeCourse: this.props.activeCourse,\n      moduleTitle: this.props.moduleTitle,\n      internal: this.props.internal,\n      vark: this.props.vark,\n      onRequestClose: () => true,\n      teacherMode: this.props.teacherMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 27\n      }\n    }));\n  }\n\n  render() {\n    var teacherMode = this.props.teacherMode;\n    var teacherDisplay = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 31\n      }\n    });\n\n    if (teacherMode) {\n      teacherDisplay = /*#__PURE__*/React.createElement(RenameItem, {\n        internal: this.props.name,\n        moduleTitle: this.props.moduleTitle,\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        vark: this.props.vark,\n        itemName: this.props.name,\n        firebase: this.props.firebase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 17\n        }\n      });\n    }\n\n    let precede = this.props.vark;\n    var attribute = precede + \"modulecontentitem\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"leftcontentitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: attribute,\n      onClick: () => this.openModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 29\n      }\n    }, this.props.name)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"rightcontentitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 25\n      }\n    }, teacherDisplay))));\n  }\n\n}\n\nclass AddModuleContentItemItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  openModal() {\n    //this registers the click\n    ModalManager.open( /*#__PURE__*/React.createElement(MyModal, {\n      itemName: \"add\",\n      firebase: this.props.firebase,\n      moduleTitle: this.props.moduleTitle,\n      activeCourse: this.props.activeCourse,\n      modules: this.props.modules,\n      onRequestClose: () => true,\n      teacherMode: true,\n      addItemMode: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 27\n      }\n    }));\n  }\n\n  render() {\n    var attribute = \"modulecontentitem\";\n    var inner = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 22\n      }\n    }, \"Add an item\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: attribute,\n      onClick: () => this.openModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 13\n      }\n    }, inner);\n  }\n\n}\n\nfunction ModuleItem(props) {\n  const [active, setActive] = React.useState(props.active);\n  var attribute = active + \"moduleitem\";\n  var teacherMode = props.teacherMode;\n\n  if (teacherMode) {\n    attribute += \"teacher\";\n  }\n\n  var addCourseItemItem = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 30\n    }\n  });\n\n  if (teacherMode) {\n    addCourseItemItem = /*#__PURE__*/React.createElement(AddModuleContentItemItem, {\n      moduleTitle: props.name,\n      activeCourse: props.activeCourse,\n      modules: props.modules,\n      firebase: props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 13\n      }\n    });\n  }\n\n  var teacherDisplay = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 27\n    }\n  });\n\n  if (teacherMode) {\n    teacherDisplay = /*#__PURE__*/React.createElement(RenameModule, {\n      internal: props.name,\n      moduleTitle: props.name,\n      activeCourse: props.activeCourse,\n      modules: props.modules,\n      firebase: props.firebase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 13\n      }\n    });\n  }\n\n  var topbar = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"moduletitle\",\n    onClick: () => setActive(active === \"active\" ? \"\" : \"active\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 9\n    }\n  }, props.name);\n\n  if (teacherMode) {\n    topbar = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"teachermoduletitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"leftcontentitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => setActive(active === \"active\" ? \"\" : \"active\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 29\n      }\n    }, props.name)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"rightcontentitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 25\n      }\n    }, teacherDisplay))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: attribute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 13\n    }\n  }, topbar, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modulecontents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 17\n    }\n  }, props.contents.map(contentitem => props.varkMode === \"All\" || props.varkMode === props.vark[props.contents.indexOf(contentitem)] ? /*#__PURE__*/React.createElement(ModuleContentItem, {\n    name: contentitem,\n    vark: props.vark[props.contents.indexOf(contentitem)],\n    internal: props.internals[props.contents.indexOf(contentitem)],\n    addVarkClicks: props.addVarkClicks,\n    teacherMode: props.teacherMode,\n    moduleTitle: props.name,\n    activeCourse: props.activeCourse,\n    modules: props.modules,\n    firebase: props.firebase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 26\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 26\n    }\n  })), addCourseItemItem)));\n}\n\nfunction VarkProfile(props) {\n  const lineWidth = 60;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"varkprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(PieChart, {\n    style: {\n      fontFamily: '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\n      fontSize: '8px',\n      height: \"150px\"\n    },\n    data: [{\n      color: 'red',\n      title: 'V',\n      value: props.Vcnt\n    }, {\n      color: 'blue',\n      title: 'A',\n      value: props.Acnt\n    }, {\n      color: 'green',\n      title: 'R',\n      value: props.Rcnt\n    }, {\n      color: 'purple',\n      title: 'K',\n      value: props.Kcnt\n    }],\n    radius: PieChart.defaultProps.radius - 6,\n    lineWidth: 60,\n    segmentsStyle: {\n      transition: 'stroke .3s',\n      cursor: 'pointer'\n    },\n    animate: true,\n    label: ({\n      dataEntry\n    }) => Math.round(dataEntry.percentage) + '%',\n    labelPosition: 100 - lineWidth / 2,\n    labelStyle: {\n      fill: '#fff',\n      opacity: 0.75,\n      pointerEvents: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"varkprofiletext\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 32\n    }\n  }, \"Course VARK Profile\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 29\n    }\n  }, \"Visual\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"blue\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 29\n    }\n  }, \"Auditory\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 831,\n      columnNumber: 29\n    }\n  }, \"Reading/Writing\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"purple\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 29\n    }\n  }, \"Kinesthetic\"))))));\n}\n\nclass Select extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: [{\n        name: this.props.default,\n        value: \"All\"\n      }, {\n        name: 'Visual',\n        value: 'V'\n      }, {\n        name: 'Auditory',\n        value: 'A'\n      }, {\n        name: 'Reading/Writing',\n        value: 'R'\n      }, {\n        name: 'Kinesthetic',\n        value: 'K'\n      }],\n      value: '?'\n    };\n\n    this.handleChange = event => {\n      this.props.passState(event.target.value);\n      this.setState({\n        value: event.target.value\n      });\n    };\n  }\n\n  render() {\n    const {\n      options,\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 881,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"search_categories\",\n      id: \"search_categories\",\n      onChange: this.handleChange,\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 882,\n        columnNumber: 13\n      }\n    }, options.map(item => /*#__PURE__*/React.createElement(\"option\", {\n      className: \"option\",\n      key: item.value,\n      value: item.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 17\n      }\n    }, \"\\xA0\\xA0\\xA0\", item.name))));\n  }\n\n}\n\nclass MainPanel extends React.Component {\n  //the entire right half of the screen where all the modules are\n  constructor(props) {\n    super(props);\n    this.state = {\n      varkselection: \"All\"\n    };\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.filterCallback = this.filterCallback.bind(this);\n    this.getCurrentUserEmail = this.getCurrentUserEmail.bind(this);\n    this.getTeacherEmail = this.getTeacherEmail.bind(this);\n    this.getCourseID = this.getCourseID.bind(this);\n  }\n\n  handleRemove(event) {\n    this.props.removeCourse(this.props.activeCourse);\n  }\n\n  handleFilter(theState) {\n    this.setState({\n      varkselection: theState\n    }, () => this.filterCallback());\n  }\n\n  filterCallback() {\n    this.render();\n  }\n\n  getTeacherEmail(nameOfCourse) {\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var teacher;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === nameOfCourse) {\n        teacher = course.nteacher;\n      }\n    } // should be returning correct email. If not, try Object.values(course.nteacher) instead\n\n\n    return teacher;\n  }\n\n  getCurrentUserEmail() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    const curEmail = Object.values(usr).slice()[1]; // returns string of current user's email\n\n    return curEmail;\n  }\n\n  getCourseID(nameOfCourse) {\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var needed;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === nameOfCourse) {\n        return course.nclasscode;\n      }\n    }\n  }\n\n  render() {\n    //active: \"\" means the module is minimized, \"active\" means its expanded\n    var showModules = true;\n    var showVarkProfile = true;\n    var courseid = this.getCourseID(this.props.activeCourse);\n    var teacherMode = this.getTeacherEmail(this.props.activeCourse) === this.getCurrentUserEmail(); // console.log(this.getTeacherEmail(this.props.activeCourse));\n    // console.log(this.getCurrentUserEmail());\n    // console.log(teacherMode);\n\n    var welcomeMsg;\n    var unenroll;\n    var filter;\n\n    if (this.props.activeCourse === \"none\") {\n      welcomeMsg = \"Select or add a course on the left to get started.\";\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 17\n        }\n      });\n      showVarkProfile = false;\n      filter = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 17\n        }\n      });\n    } else {\n      welcomeMsg = \"Welcome to \" + this.props.activeCourse;\n      unenroll = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"removecoursebutton\",\n        onClick: this.handleRemove,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 17\n        }\n      }, \"Unenroll\");\n      filter = /*#__PURE__*/React.createElement(Select, {\n        passState: this.handleFilter,\n        default: \"Show all VARK types\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 981,\n          columnNumber: 23\n        }\n      });\n\n      if (teacherMode) {\n        unenroll = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"teachernotice\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 25\n          }\n        }, \"You are the author of this course.\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 28\n          }\n        }, \"Course ID:\\xA0\\xA0\\xA0\"), \" \", courseid));\n        filter = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 27\n          }\n        });\n      }\n\n      if (welcomeMsg === \"Welcome to Welcome\") {\n        welcomeMsg = \"Select or add a course on the left to get started.\";\n        showModules = false;\n        unenroll = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 995,\n            columnNumber: 21\n          }\n        });\n        showVarkProfile = false;\n        filter = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 21\n          }\n        });\n      }\n    }\n\n    var addModuleItem = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 30\n      }\n    });\n\n    if (teacherMode) {\n      addModuleItem = /*#__PURE__*/React.createElement(ModuleItem, {\n        name: \"New Module\",\n        contents: [],\n        vark: [],\n        internals: [],\n        active: \"\",\n        username: this.props.username,\n        addVarkClicks: this.props.addVarkClicks,\n        varkMode: this.state.varkselection,\n        teacherMode: true,\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 17\n        }\n      });\n    }\n\n    var moduleList = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1023,\n        columnNumber: 27\n      }\n    });\n\n    if (showModules) {\n      moduleList = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modulelist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 17\n        }\n      }, Object.values(this.props.modules).map(module => /*#__PURE__*/React.createElement(ModuleItem, {\n        name: module.title,\n        contents: module.contents,\n        vark: module.vark,\n        internals: module.internals,\n        active: \"\",\n        username: this.props.username,\n        addVarkClicks: this.props.addVarkClicks,\n        varkMode: this.state.varkselection,\n        teacherMode: teacherMode,\n        activeCourse: this.props.activeCourse,\n        modules: this.props.modules,\n        firebase: this.props.firebase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 29\n        }\n      })));\n    } //counts the number of each vark item in modules\n\n\n    var Vcnt = 0;\n    var Acnt = 0;\n    var Rcnt = 0;\n    var Kcnt = 0;\n    var module;\n    var varkLetter;\n\n    for (module of this.props.modules) {\n      for (varkLetter of module.vark) {\n        if (varkLetter === \"V\") {\n          Vcnt++;\n        }\n\n        if (varkLetter === \"A\") {\n          Acnt++;\n        }\n\n        if (varkLetter === \"R\") {\n          Rcnt++;\n        }\n\n        if (varkLetter === \"K\") {\n          Kcnt++;\n        }\n      }\n    }\n\n    var varkProfile = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1073,\n        columnNumber: 28\n      }\n    });\n\n    if (showVarkProfile) {\n      varkProfile = /*#__PURE__*/React.createElement(VarkProfile, {\n        Vcnt: Vcnt,\n        Acnt: Acnt,\n        Rcnt: Rcnt,\n        Kcnt: Kcnt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1076,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainpanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1087,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1088,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1089,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"courseheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 29\n      }\n    }, welcomeMsg, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 39\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 41\n      }\n    }, unenroll), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1098,\n        columnNumber: 41\n      }\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 41\n      }\n    }, filter))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"rightalignandfloatdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1110,\n        columnNumber: 25\n      }\n    }, varkProfile))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1115,\n        columnNumber: 17\n      }\n    }), moduleList, addModuleItem, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 17\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 24\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 31\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 38\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 45\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 52\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 59\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 66\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 73\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 80\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 87\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 94\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 101\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 108\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 115\n      }\n    }));\n  }\n\n}\n\nclass CreateForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.props.createCourse(this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1142,\n        columnNumber: 17\n      }\n    }, \"Enter the name for your new course below\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 61\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 67\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1144,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1146,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n    let shouldAddCourse = false; //check that the course is available on the database. If not, throw an error to the user\n\n    const allCourses = JSON.parse(localStorage.getItem('courses'));\n    var needed;\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.nclasscode === this.state.value) {\n        shouldAddCourse = true;\n        needed = course.CourseName;\n      }\n    }\n\n    if (shouldAddCourse) {\n      this.props.addCourse(needed);\n    } else {\n      alert('Sorry, class not found');\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 17\n      }\n    }, \"Enter the course code below\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nfunction CreateCoursePanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1200,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcoursetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1201,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1202,\n      columnNumber: 21\n    }\n  }, \"Create a course\")), /*#__PURE__*/React.createElement(CreateForm, {\n    username: props.username,\n    courses: props.courses,\n    createCourse: props.createCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1204,\n      columnNumber: 17\n    }\n  })));\n}\n\nfunction AddCoursePanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainpanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcourseview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addcoursetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1214,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1215,\n      columnNumber: 21\n    }\n  }, \"Enroll in a course\")), /*#__PURE__*/React.createElement(NameForm, {\n    username: props.username,\n    courses: props.courses,\n    addCourse: props.addCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1217,\n      columnNumber: 17\n    }\n  })));\n}\n\nclass Container extends React.Component {\n  //the main container for everything on the screen, that also stores most global data in its state\n  constructor(props) {\n    super(props); //bind the state setting functions to the current class\n\n    this.addCourse = nameOfCourse => {\n      //actually adds the course\n      var newCourses = this.state.arrCourses.slice();\n      newCourses.push(nameOfCourse);\n      this.setState({\n        arrCourses: newCourses.slice()\n      }, () => {\n        this.changeActiveCourse(nameOfCourse);\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[2]);\n\n      localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[2]);\n\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        courses: newCourses.slice()\n      });\n    };\n\n    this.createCourse = nameOfCourse => {\n      //actually adds the course\n      alert(\"Created \" + nameOfCourse); //TODO: generate classcode, make the course with nameOfCourse, add it to the db\n\n      var classCode = \"002\"; // <-- set this to the class code\n      //done for you: at the end, enroll the person in their own course by calling this.addCourse(classCode);\n\n      this.addCourse(classCode);\n    };\n\n    this.addVarkClicks = varkCharacter => {\n      var newVark = this.state.varkClicks.slice();\n      newVark.push(varkCharacter);\n      this.setState({\n        varkClicks: newVark.slice()\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[6]);\n\n      localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[6]);\n\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        wvarkclicks: newVark.slice()\n      });\n    };\n\n    this.removeCourse = nameOfCourse => {\n      var newCourses = this.state.arrCourses.slice();\n      var newnewCourses = [];\n      newCourses.forEach(element => {\n        if (!(element === nameOfCourse)) {\n          newnewCourses.push(element);\n        }\n      });\n      newCourses = newnewCourses.slice();\n      this.setState({\n        arrCourses: newCourses.slice()\n      }, () => {\n        this.changeActiveCourse(this.state.arrCourses.slice()[0]);\n      });\n      const usr = JSON.parse(localStorage.getItem('authUser')); //console.log(Object.values(usr).slice()[2]);\n\n      localStorage.setItem('authUser', JSON.stringify(usr)); //console.log(Object.values(usr).slice()[2]);\n\n      this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n        courses: newCourses.slice()\n      });\n    };\n\n    this.changeActiveCourse = this.changeActiveCourse.bind(this);\n    this.addCourseMode = this.addCourseMode.bind(this);\n    this.createCourseMode = this.createCourseMode.bind(this);\n    this.state = {\n      arrCourses: props.courses,\n      activeCourse: \"none\",\n      //to be updated with the current open course\n      username: props.name,\n      mainPanelMode: 0,\n      //0 means modules view (default), 1 means add-course view, 2 means create-course view\n      varkClicks: props.varkClicks\n    };\n  }\n\n  changeActiveCourse(nameOfActiveCourse) {\n    this.setState({\n      mainPanelMode: 0,\n      activeCourse: nameOfActiveCourse\n    }, () => {\n      this.render();\n    });\n  }\n\n  addCourseMode() {\n    //switches main panel view to addCourseMode\n    this.setState({\n      mainPanelMode: 1\n    });\n    this.render(); //force React to rerender\n  }\n\n  createCourseMode() {\n    //switches main panel view to createCourseMode\n    this.setState({\n      mainPanelMode: 2\n    });\n    this.render(); //force React to rerender\n  }\n\n  getModules(name) {\n    const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n\n    if (name === \"none\") return [];\n\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\n      var course = allCourses[i];\n\n      if (course.CourseName === name) {\n        //now we've retrieved the correct course to display\n        //here we need to return all of the modules in that course in an array\n        var arrayOfModules = Object.values(course.modules);\n\n        for (let j = 0, len2 = arrayOfModules.length; j < len2; ++j) {\n          arrayOfModules[j].contents = Object.values(arrayOfModules[j].contents);\n          arrayOfModules[j].vark = Object.values(arrayOfModules[j].vark);\n          arrayOfModules[j].internals = Object.values(arrayOfModules[j].internals);\n        }\n\n        return arrayOfModules; // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [ \n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        //     {\n        //         title: course.CourseName,\n        //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n        //         vark: ['V', \"A\", \"R\"],\n        //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n        //     },\n        // ];\n      } else {\n        console.log(\"whoops\");\n      }\n    }\n  }\n\n  render() {\n    var mainpanel;\n\n    if (this.state.mainPanelMode === 0) {\n      mainpanel = /*#__PURE__*/React.createElement(MainPanel, {\n        firebase: this.props.firebase,\n        username: this.state.username,\n        activeCourse: this.state.activeCourse,\n        modules: this.getModules(this.state.activeCourse),\n        removeCourse: this.removeCourse,\n        addVarkClicks: this.addVarkClicks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 25\n        }\n      });\n    } else if (this.state.mainPanelMode === 1) {\n      mainpanel = /*#__PURE__*/React.createElement(AddCoursePanel, {\n        username: this.state.username,\n        currentCourses: this.state.arrCourses,\n        addCourse: this.addCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 25\n        }\n      });\n    } else if (this.state.mainPanelMode === 2) {\n      mainpanel = /*#__PURE__*/React.createElement(CreateCoursePanel, {\n        username: this.state.username,\n        currentCourses: this.state.arrCourses,\n        createCourse: this.createCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1372,\n          columnNumber: 25\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1376,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1377,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      username: this.state.username,\n      activeCourse: this.state.activeCourse,\n      arrCourses: this.state.arrCourses,\n      changeActiveCourse: this.changeActiveCourse,\n      addCourseMode: this.addCourseMode,\n      createCourseMode: this.createCourseMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1378,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1387,\n        columnNumber: 21\n      }\n    }, mainpanel)));\n  }\n\n}\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.state = {\n      username: Object.values(usr).slice()[4],\n      email: Object.values(usr).slice()[1],\n      courses: Object.values(usr).slice()[2],\n      varkClicks: Object.values(usr).slice()[6]\n    };\n  }\n\n  componentDidMount() {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    this.props.firebase.courses().on('value', snapshot => {\n      const coursesObject = snapshot.val();\n      const coursesList = Object.keys(coursesObject).map(key => ({ ...coursesObject[key],\n        appID: key\n      }));\n      localStorage.setItem('courses', JSON.stringify(coursesList));\n      this.setState({\n        username: Object.values(usr).slice()[4],\n        email: Object.values(usr).slice()[1],\n        courses: Object.values(usr).slice()[2]\n      });\n    });\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      //when login is implemented, it should create an app with the appropriate username passed in\n      React.createElement(Container, {\n        name: this.state.username,\n        courses: this.state.courses,\n        firebase: this.props.firebase,\n        varkClicks: this.state.varkClicks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1427,\n          columnNumber: 13\n        }\n      })\n    );\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);","map":{"version":3,"sources":["/home/danielwei/Development/GitProjects/modulus/src/components/Home/index.js"],"names":["React","withAuthorization","Modal","ModalManager","Effect","PieChart","firebase","backarrow","require","CourseListItem","props","changeActiveCourse","name","AddCourseItem","addCourseMode","CreateCourseItem","createCourseMode","Sidebar","Component","constructor","state","username","activeCourse","arrCourses","render","length","map","course","MyModal","handleFilter","bind","filterCallback","handleChange","handleSubmit","handleItemNameChange","varkselection","value","internal","itemName","event","setState","target","addItemMode","allCourses","JSON","parse","localStorage","getItem","courseID","i","len","CourseName","appID","arrModules","modules","curModule","moduleTitle","neededModule","title","contents","internals","vark","push","newPush","courses","child","update","slice","itemTemp","console","log","close","preventDefault","theState","text","onRequestClose","internalDisplay","link","teacherMode","color","overlay","position","top","left","right","bottom","zIndex","overflow","perspective","backgroundColor","content","margin","width","height","border","background","borderRadius","outline","boxShadow","textAlign","ScaleUp","fontSize","includes","substring","indexOf","beforeCode","afterCode","code","__html","maxHeight","paddingLeft","RenameModule","onClick","active","newVal","inside","RenameItem","neededModule2","ModuleContentItem","openModal","addVarkClicks","header","open","teacherDisplay","precede","attribute","AddModuleContentItemItem","inner","ModuleItem","setActive","useState","addCourseItemItem","topbar","contentitem","varkMode","VarkProfile","lineWidth","fontFamily","Vcnt","Acnt","Rcnt","Kcnt","defaultProps","radius","transition","cursor","dataEntry","Math","round","percentage","fill","opacity","pointerEvents","Select","PureComponent","options","default","passState","item","MainPanel","handleRemove","getCurrentUserEmail","getTeacherEmail","getCourseID","removeCourse","nameOfCourse","teacher","nteacher","usr","curEmail","Object","values","needed","nclasscode","showModules","showVarkProfile","courseid","welcomeMsg","unenroll","filter","addModuleItem","moduleList","module","varkLetter","varkProfile","CreateForm","createCourse","NameForm","shouldAddCourse","addCourse","alert","CreateCoursePanel","AddCoursePanel","Container","newCourses","setItem","stringify","users","classCode","varkCharacter","newVark","varkClicks","wvarkclicks","newnewCourses","forEach","element","mainPanelMode","nameOfActiveCourse","getModules","arrayOfModules","j","len2","mainpanel","Home","email","componentDidMount","on","snapshot","coursesObject","val","coursesList","keys","key","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { withAuthorization } from '../Session';\n\nimport { Modal,ModalManager,Effect} from 'react-dynamic-modal';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport 'react-contexify/dist/ReactContexify.min.css';\nimport * as firebase from 'firebase'\nimport backarrow from './backarrow.png';\nrequire('@firebase/database');\n\nfunction CourseListItem(props) {\n    return (\n        <div className=\"courselistitem\" onClick={() => {props.changeActiveCourse(props.name);}} >\n            {props.name}\n        </div>\n    );\n}\n\nfunction AddCourseItem(props) {\n    return (\n        <div>\n            <br />\n            <div className=\"addcourseitem\" onClick={props.addCourseMode}>\n                Enroll\n            </div>\n            <br />\n        </div>\n    );\n}\n\nfunction CreateCourseItem(props) {\n    return (\n        <div>\n            <br />\n            <div className=\"createcourseitem\" onClick={props.createCourseMode}>\n                Create\n            </div>\n            <br />\n        </div>\n    );\n}\n\nclass Sidebar extends React.Component { //the entire left sidebar\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: props.username,\n            activeCourse: props.activeCourse,\n            arrCourses: props.arrCourses,\n        }\n    }\n\n    //utility functions to pass info up to container\n    changeActiveCourse = (name) => {this.props.changeActiveCourse(name);}\n    addCourseMode = () => {this.props.addCourseMode();}\n    createCourseMode = () => {this.props.createCourseMode();}\n\n    render() {\n        return (\n            <div>\n                <div className=\"sidebar\">\n                    <center>\n                        <table width=\"88%\">\n                            <tr>\n                                <td>\n                                    <AddCourseItem addCourseMode={this.addCourseMode}/>\n                                </td>\n                                <td className=\"textalignright\">\n                                    <CreateCourseItem createCourseMode={this.createCourseMode}/>\n                                </td>\n                            </tr>\n                        </table>\n                    </center>\n                    <div className=\"courselist\">\n                        {(this.props.arrCourses.length<=1) ? (<p className=\"dividertext\">You're not enrolled in any courses yet.<br/>Enroll or teach using the buttons above.</p>) : this.props.arrCourses.map(course => ((course===\"Welcome\") ? (<div />) : (<CourseListItem name={course} active={(this.props.activeCourse===course ? \"active\" : \"\")} changeActiveCourse={this.changeActiveCourse}/>)))}\n                    </div>\n                </div>\n            </div>\n            \n        );\n    }\n}\n\nclass MyModal extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleFilter = this.handleFilter.bind(this);\n        this.filterCallback = this.filterCallback.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleItemNameChange = this.handleItemNameChange.bind(this);\n        this.state = {\n            varkselection: null,\n            value: this.props.internal,\n            itemName: \"\",\n            //modules: this.props.modules.slice(), //modify this.state.modules //push the entirety of this.state.modules up to the database\n        };\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n    handleItemNameChange(event) {    this.setState({itemName: event.target.value});  }\n\n    handleSubmit(event) { \n        if (this.props.addItemMode) {\n            const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.CourseName === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n           \n            const contents = neededModule.contents; // add your new items\n            const internals = neededModule.internals;\n            const vark = neededModule.vark;\n            contents.push(this.state.itemName);\n            internals.push(this.state.value);\n            vark.push(this.state.varkselection);\n            \n            \n            const newPush = this.props.modules;\n            \n            \n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n            \n        }\n        else {\n            const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.CourseName === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n            \n            const contents = neededModule.contents;  // modify the corresponding item\n            const internals = neededModule.internals;\n            const vark = neededModule.vark;\n            for ( let i = 0; i < contents.length; ++i) {\n                let itemTemp = contents[i]; \n                if ( itemTemp === this.props.itemName && vark[i] === this.props.vark) {\n                    internals[i] = this.state.value;\n                }\n            }\n            \n            const newPush = this.props.modules; // record to database \n            console.log(newPush);\n            \n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n        }\n\n        ModalManager.close();\n        event.preventDefault();\n    }\n\n    handleFilter(theState) { //handles selection of the dropdown VARK by the teacher\n        this.setState({varkselection: theState}, () => this.filterCallback());\n    }\n\n    filterCallback() { //callback from handleFilter\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n            var courseID;\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\n                var course = allCourses[i];\n                if (course.CourseName === this.props.activeCourse) {\n                    courseID = course.appID; // identifies current course child name to update\n                    break;\n                }\n            }\n            const arrModules = this.props.modules;\n            const curModule = this.props.moduleTitle;\n            for ( let i = 0; i < arrModules.length; ++i) {\n                var neededModule;\n                if ( arrModules[i].title === curModule) {\n                    neededModule = arrModules[i]; break; // finds needed module to edit\n                }\n            }\n            \n            const contents = neededModule.contents;  // modify the corresponding item\n            const vark = neededModule.vark;\n            for ( let i = 0; i < contents.length; ++i) {\n                let itemTemp = contents[i]; \n                if ( itemTemp === this.props.itemName) {\n                    vark[i] = this.state.varkselection;\n                }\n            }\n            \n            const newPush = this.props.modules; // record to database \n            console.log(newPush);\n            \n            this.props.firebase.courses().child(courseID).update({\n                modules: newPush.slice(),\n            });\n        this.render();\n    }\n\n    render(){\n       const { text,onRequestClose } = this.props;\n\n       var internalDisplay = \"\";\n\n       var link = this.props.internal;\n\n       if (this.props.teacherMode) {\n           if (this.props.addItemMode) {\n                internalDisplay = (\n                    <div>\n                        <center>\n                            <br /><br /><br /><br />\n                            <h1 style={{color: \"#003459\"}}>Create an item</h1>\n                            <Select passState={this.handleFilter} default={\"Choose a VARK type\"}/>\n                            <br /><br />\n                            <form>\n                                <label>\n                                    <p className=\"teachernotice\">Enter the item name:</p>\n                                    <input type=\"text\" value={this.state.itemName} onChange={this.handleItemNameChange} />\n                                </label>\n                            </form>\n                            <br /><br />\n                            <form onSubmit={this.handleSubmit}>\n                                <label>\n                                    <p className=\"teachernotice\">Enter the link to the item:</p>\n                                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n                                </label>\n                                    <br /><br />\n                                <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                        </center>\n                    </div>\n                );\n\n                return ( //big modal\n                    <Modal\n                        style= {{\n                            overlay: {\n                            position        : 'fixed',\n                            top             : -150,\n                            left            : 0,\n                            right           : 0,\n                            bottom          : 0,\n                            zIndex          : 99999999,\n                            overflow        : 'hidden',\n                            perspective     :  1300,\n                            backgroundColor : 'rgba(0, 0, 0, 0.3)'\n                            },\n                        \n                            content: {\n                            position                : 'relative',\n                            margin                  : '15% auto',\n                            width                   : '60%',\n                            height                  : '600px',\n                            border                  : '1px solid rgba(0, 0, 0, .2)',\n                            background              : '#fff',\n                            borderRadius            : '4px',\n                            outline                 : 'none',\n                            boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n                            textAlign               : 'center',\n                            overflow                : 'hidden',\n                            }\n                        }}\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}\n                    >\n                        {internalDisplay}\n                    </Modal>\n                );\n           } else {\n                internalDisplay = (\n                    <div>\n                            <center>\n                                <h1 style={{fontSize: \"xx-large\"}}>Edit this item</h1>\n                                <Select passState={this.handleFilter} default={\"Choose a VARK type\"}/>\n                                <br /><br />\n                                <form onSubmit={this.handleSubmit}>\n                                    <label>\n                                        <p className=\"teachernotice\">Enter the link to the item:</p>\n                                        <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\n                                        <br /><br />\n                                    <input type=\"submit\" value=\"Submit\" />\n                                </form>\n                            </center>\n                        </div>\n                );\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            {internalDisplay}    \n                        </h1>\n                    </Modal>\n                );\n           }\n       }\n       else {\n            if(\"VARK\".includes(this.props.vark) && link.includes(\"google\")){\n                if (link.includes(\"/edit?usp=sharing\")) { //standardize on \"view\" as the thing to replace, since GDrive is gaey and some view-only links still have edit in the link\n                link = link.substring(0, link.indexOf(\"/edit?usp=sharing\")) + \"/view?usp=sharing\";\n                }\n                if (link.includes(\"/view?usp=sharing\")) { //if its a google drive shared file\n                    link = link.substring(0, link.indexOf(\"/view?usp=sharing\")) + \"/preview\"; //make it an embeddable preview\n                }\n                if (link.includes(\"/viewform\")) //if its a google form/quiz\n                    link += \"?embedded=true\";\n                    \n\n                        //embed it\n                        var beforeCode = \"<iframe src=\\\"\";\n                        var afterCode = \"\\\" width=\\\"100%\\\" height=\\\"750\\\" />\";\n                        var code = beforeCode + link + afterCode;\n\n                        internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                        return ( //big modal\n                            <Modal\n                                style= {{\n                                    overlay: {\n                                    position        : 'fixed',\n                                    top             : -200,\n                                    left            : 0,\n                                    right           : 0,\n                                    bottom          : 0,\n                                    zIndex          : 99999999,\n                                    overflow        : 'hidden',\n                                    perspective     :  1300,\n                                    backgroundColor : 'rgba(0, 0, 0, 0.3)'\n                                    },\n                                \n                                    content: {\n                                    position                : 'relative',\n                                    margin                  : '15% auto',\n                                    width                   : '90%',\n                                    height                  : '770px',\n                                    border                  : '1px solid rgba(0, 0, 0, .2)',\n                                    background              : '#fff',\n                                    borderRadius            : '4px',\n                                    outline                 : 'none',\n                                    boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n                                    textAlign               : 'center',\n                                    overflow                : 'hidden',\n                                    }\n                                }}\n                                onRequestClose={onRequestClose}\n                                effect={Effect.ScaleUp}\n                            >\n                                {internalDisplay}\n                            </Modal>\n                        );\n            }else if(link.includes(\"youtube\") || link.includes(\"youtu.be\")){\n                if(link.includes(\"youtu.be\"))\n                    link = link.substring(0, link.indexOf(\"youtu.be\")) + \"youtube.com/watch?v=\" + link.substring(link.indexOf(\"be/\") + 3, link.length);\n                if(link.includes(\"youtube\"))\n                    link = link.substring(0, link.indexOf(\"/watch?v=\")) + \"/embed/\" + link.substring(link.indexOf(\"v=\") + 2, link.length);\n                var beforeCode = \"<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"\";\n                var afterCode = \"\\\" frameBorder=\\\"0\\\"\\n\" +\n                    \"allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\"\\n\" +\n                    \"allowFullScreen></iframe>\";\n                var code = beforeCode + link + afterCode;\n\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            <table style={{maxHeight: \"50px\"}}>\n                                <tr>\n                                    <td>\n                                        <button id=\"backbutton\" onClick={ModalManager.close}><img src={backarrow} alt=\"Return\" height=\"15px\"/></button>\n                                    </td>\n                                    <td style={{paddingLeft: 100}}>\n                                        {internalDisplay}\n                                    </td>\n                                </tr>\n                            </table>\n                        </h1>\n                    </Modal>\n                );\n\n            }\n            else { //just create a button and insert the link as the button's destination\n                var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\n                var afterCode = \"\\\">Click here to open content in new tab</a>\";\n                var code = beforeCode + link + afterCode;\n                \n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\n\n                return ( //small modal\n                    <Modal\n                        className=\"modaldialog\"\n                        onRequestClose={onRequestClose}\n                        effect={Effect.ScaleUp}>\n                        <h1 className=\"modaldialog\">\n                            <table style={{maxHeight: \"50px\"}}>\n                                <tr>\n                                    <td>\n                                        <button id=\"backbutton\" onClick={ModalManager.close}><img src={backarrow} alt=\"Return\" height=\"15px\"/></button> \n                                    </td>\n                                    <td>\n                                        {internalDisplay}\n                                    </td>\n                                </tr>\n                            </table>             \n                        </h1>\n                    </Modal>\n                );\n            }\n        }   \n    }\n }\n\n class RenameModule extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: this.props.internal,\n        };\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) { \n        this.setState({\n            value: this.state.newVal,\n        });\n\n        if (this.props.moduleTitle===\"New Module\") {\n            //inside of this if statement, it means that the module doesn't actually exist on the database at all yet. We need to make one.\n            //TODO: make a new module with this.state.newVal as its name.\n            //To help you, you have:\n            //this.props.activeCourse which is the currently active course\n            //this.props.modules which contains all the current modules\n            //this.props.firebase to let you access firebase\n        }\n\n        // this will rename the current module\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.CourseName === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n        const curModule = this.props.moduleTitle;\n        for ( let i = 0; i < arrModules.length; ++i) {\n            if ( arrModules[i].title === curModule) {\n                arrModules[i].title = this.state.newVal; // sets the new name\n            }\n        }\n        const newPush = this.props.modules; // push to firebase\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }    \n\n    render() {\n        var inside = (<p className=\"renamebutton\">[Rename]</p>);\n        if (this.state.active) {\n            inside = (\n                <form onSubmit={this.handleSubmit}>\n                <label>\n                    <input type=\"text\" value={this.state.newVal} onChange={this.handleChange} />\n                </label>\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n            );         \n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}> \n                {inside}\n            </div>\n        );\n    }\n}\n\nclass RenameItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            value: this.props.internal,\n            active: false,\n            newVal: this.props.internal,\n        };\n    }\n\n    onClick() {\n        this.setState({\n            active: true,\n        });\n    }\n\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\n\n    handleSubmit(event) {\n        this.setState({\n            value: this.state.newVal,\n        });\n\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var courseID;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.CourseName === this.props.activeCourse) {\n                courseID = course.appID; // identifies current course child name to update\n                break;\n            }\n        }\n        const arrModules = this.props.modules;\n        const curModule = this.props.moduleTitle;\n        console.log(arrModules);\n        console.log(curModule);\n        for ( let i = 0; i < arrModules.length; ++i) {\n            var neededModule2;\n            if ( arrModules[i].title === curModule) {\n                neededModule2 = arrModules[i]; break; // finds needed module to edit\n            }\n            else\n                console.log(\"bope\");\n        }\n\n        const contents = neededModule2.contents;  // renames the corresponding item\n        const vark = neededModule2.vark;\n        for ( let i = 0; i < contents.length; ++i) {\n            let itemTemp = contents[i];\n            if ( (itemTemp === this.props.itemName) && (vark[i] === this.props.vark)) {\n                contents[i] = this.state.newVal;\n            }\n        }\n\n        const newPush = this.props.modules; // record to database\n        console.log(newPush);\n\n        this.props.firebase.courses().child(courseID).update({\n            modules: newPush.slice(),\n        });\n\n        event.preventDefault();\n    }    \n\n    render() {\n        var inside = (<p className=\"renamebutton\">[Rename]</p>);\n        if (this.state.active) {\n            inside = (\n                <form onSubmit={this.handleSubmit}>\n                <label>\n                    <input type=\"text\" value={this.state.newVal} onChange={this.handleChange} />\n                </label>\n                <input className=\"smallbutton\" type=\"submit\" value=\"Submit\" />\n            </form>\n            );         \n        }\n\n        return (\n            <div className=\"renameitem\" onClick={() => this.onClick()}> \n                {inside}\n            </div>\n        );\n    }\n}\n\nclass ModuleContentItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    openModal() { //this registers the click\n        this.props.addVarkClicks(this.props.vark);\n\n        const header = this.props.name;\n        ModalManager.open(<MyModal itemName={this.props.name} firebase={this.props.firebase} text={header} modules={this.props.modules} activeCourse={this.props.activeCourse} moduleTitle={this.props.moduleTitle} internal={this.props.internal} vark={this.props.vark} onRequestClose={() => true} teacherMode={this.props.teacherMode}/>);\n    }\n\n    render() {\n\n        var teacherMode = this.props.teacherMode;\n        var teacherDisplay = (<div />);\n        if (teacherMode) {\n            teacherDisplay = (\n                <RenameItem\n                    internal={this.props.name}\n                    moduleTitle={this.props.moduleTitle}\n                    activeCourse={this.props.activeCourse}\n                    modules={this.props.modules}\n                    vark={this.props.vark}\n                    itemName={this.props.name}\n                    firebase={this.props.firebase}\n                />\n            );\n        }\n\n        let precede = this.props.vark;\n        var attribute = precede+\"modulecontentitem\"\n        return (\n            <div>\n                <table width=\"100%\">\n                    <tr>\n                        <td className=\"leftcontentitem\">\n                            <div className={attribute} onClick={() => this.openModal()}> \n                                {this.props.name}\n                            </div>\n                        </td>\n                        <td className=\"rightcontentitem\">\n                            {teacherDisplay}\n                        </td>\n                    </tr>\n                </table>\n            </div>\n\n            \n        );\n    }\n}\n\nclass AddModuleContentItemItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    openModal() { //this registers the click\n        ModalManager.open(<MyModal itemName=\"add\" firebase={this.props.firebase} moduleTitle={this.props.moduleTitle} activeCourse={this.props.activeCourse} modules={this.props.modules} onRequestClose={() => true} teacherMode={true} addItemMode={true}/>);\n    }\n\n    render() {\n        var attribute = \"modulecontentitem\";\n\n        var inner = (<div>Add an item</div>);\n\n        return (\n            <div className={attribute} onClick={() => this.openModal()}> \n                {inner}\n            </div>\n        );\n    }\n}\n\nfunction ModuleItem(props) {\n    const [active, setActive] = React.useState(props.active);\n\n    var attribute = active+\"moduleitem\";\n\n    var teacherMode = props.teacherMode;\n\n    if (teacherMode) {\n        attribute+=\"teacher\";\n    }\n\n    var addCourseItemItem = (<div />);\n    if (teacherMode) {\n        addCourseItemItem = (\n            <AddModuleContentItemItem \n                moduleTitle={props.name}\n                activeCourse={props.activeCourse}\n                modules={props.modules}\n                firebase={props.firebase}\n            />\n        );\n    }\n\n    var teacherDisplay = (<div />);\n    if (teacherMode) {\n        teacherDisplay = (\n            <RenameModule\n                internal={props.name}\n                moduleTitle={props.name}\n                activeCourse={props.activeCourse}\n                modules={props.modules}\n                firebase = {props.firebase}\n            />\n        );\n    }\n\n    var topbar = (\n        <div className=\"moduletitle\" onClick={() => setActive(active===\"active\" ? \"\" : \"active\")}>\n            {props.name}\n        </div>\n    );\n    if (teacherMode) {\n        topbar = (\n            <div className=\"teachermoduletitle\">\n                <table width=\"100%\">\n                    <tr>\n                        <td className=\"leftcontentitem\">\n                            <div onClick={() => setActive(active===\"active\" ? \"\" : \"active\")}> \n                                {props.name}\n                            </div>\n                        </td>\n                        <td className=\"rightcontentitem\">\n                            {teacherDisplay}\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <div className={attribute} >\n                {topbar}\n                <div className=\"modulecontents\">\n                    {props.contents.map(\n                        contentitem => \n                        (props.varkMode===\"All\" || props.varkMode===props.vark[props.contents.indexOf(contentitem)])\n                        ?\n                        (<ModuleContentItem \n                            name={contentitem} \n                            vark={props.vark[props.contents.indexOf(contentitem)]} \n                            internal={props.internals[props.contents.indexOf(contentitem)]}\n                            addVarkClicks={props.addVarkClicks}\n                            teacherMode={props.teacherMode}\n                            moduleTitle={props.name}\n                            activeCourse={props.activeCourse}\n                            modules={props.modules}\n                            firebase={props.firebase}\n                        />)\n                        :\n                        (<div />)\n                    )}\n                    {addCourseItemItem}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction VarkProfile(props) {\n    const lineWidth = 60;\n    return (\n        <div className=\"varkprofile\">\n            <table width=\"100%\">\n                <tr>\n                    <td>\n                        <PieChart\n                            style={{\n                                fontFamily:\n                                '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\n                                fontSize: '8px',\n                                height: \"150px\",\n                            }}\n                            data={[\n                                {\n                                    color: 'red',\n                                    title: 'V',\n                                    value: props.Vcnt,\n                                },\n                                {\n                                    color: 'blue',\n                                    title: 'A',\n                                    value: props.Acnt,\n                                },\n                                {\n                                    color: 'green',\n                                    title: 'R',\n                                    value: props.Rcnt,\n                                },\n                                {\n                                    color: 'purple',\n                                    title: 'K',\n                                    value: props.Kcnt,\n                                },\n                            ]}\n                            radius={PieChart.defaultProps.radius - 6}\n                            lineWidth={60}\n                            segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\n                            animate\n                            label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\n                            labelPosition={100 - lineWidth / 2}\n                            labelStyle={{\n                                fill: '#fff',\n                                opacity: 0.75,\n                                pointerEvents: 'none',\n                            }}\n                        />\n                    </td>\n                    <td>\n                        <div className=\"varkprofiletext\">\n                            <p><b>Course VARK Profile</b></p>\n                            <p style={{color: \"red\"}}>Visual</p>\n                            <p style={{color: \"blue\"}}>Auditory</p>\n                            <p style={{color: \"green\"}}>Reading/Writing</p>\n                            <p style={{color: \"purple\"}}>Kinesthetic</p>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    );\n}\n\nclass Select extends React.PureComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    state = {\n      options: [\n        {\n            name: this.props.default,\n            value: \"All\",\n        },\n        {\n            name: 'Visual',\n            value: 'V',\n        },\n        {\n            name: 'Auditory',\n            value: 'A',\n        },\n        {\n            name: 'Reading/Writing',\n            value: 'R',\n        },\n        {\n            name: 'Kinesthetic',\n            value: 'K',\n        },\n      ],\n      value: '?',\n    };\n  \n    handleChange = (event) => {\n      this.props.passState(event.target.value);\n      this.setState({ value: event.target.value });\n    };\n  \n    render() {\n      const { options, value } = this.state;\n  \n      return (\n        <React.Fragment>\n            <select name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\n                {options.map(item => (\n                <option className=\"option\" key={item.value} value={item.value}>\n                    &nbsp;&nbsp;&nbsp;{item.name}\n                </option>\n                ))}\n            </select>\n        </React.Fragment>\n      );\n    }\n}\n\nclass MainPanel extends React.Component { //the entire right half of the screen where all the modules are\n    constructor (props){\n        super(props); \n        this.state = {\n            varkselection: \"All\",\n        };\n        this.handleRemove = this.handleRemove.bind(this);\n        this.handleFilter = this.handleFilter.bind(this);\n        this.filterCallback = this.filterCallback.bind(this);\n        this.getCurrentUserEmail = this.getCurrentUserEmail.bind(this);\n        this.getTeacherEmail = this.getTeacherEmail.bind(this);\n        this.getCourseID = this.getCourseID.bind(this);\n    }\n\n    handleRemove(event) {\n        this.props.removeCourse(this.props.activeCourse);\n    }\n\n    handleFilter(theState) {\n        this.setState({varkselection: theState}, () => this.filterCallback());\n    }\n\n    filterCallback() {\n        this.render();\n    }\n\n    getTeacherEmail(nameOfCourse) {\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var teacher;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.CourseName === nameOfCourse) {\n                teacher = course.nteacher;\n            }\n        }\n        // should be returning correct email. If not, try Object.values(course.nteacher) instead\n        return teacher;\n    }\n\n    getCurrentUserEmail() {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        const curEmail = Object.values(usr).slice()[1]; // returns string of current user's email\n        return curEmail;\n    }\n\n    getCourseID(nameOfCourse) {\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var needed;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.CourseName === nameOfCourse) {\n                return course.nclasscode;\n            }\n        }\n    }\n\n    render() { //active: \"\" means the module is minimized, \"active\" means its expanded\n        var showModules = true;\n        var showVarkProfile = true;\n\n        var courseid = this.getCourseID(this.props.activeCourse);\n\n        var teacherMode = this.getTeacherEmail(this.props.activeCourse)===this.getCurrentUserEmail();\n        // console.log(this.getTeacherEmail(this.props.activeCourse));\n        // console.log(this.getCurrentUserEmail());\n        // console.log(teacherMode);\n\n        var welcomeMsg;\n        var unenroll;\n        var filter;\n        if (this.props.activeCourse===\"none\") {\n            welcomeMsg = \"Select or add a course on the left to get started.\";\n            unenroll = (\n                <div />\n            );\n            showVarkProfile = false;\n            filter = (\n                <div />\n            );\n        }\n        else {\n            welcomeMsg = \"Welcome to \" + (this.props.activeCourse);\n            unenroll = (\n                <div className=\"removecoursebutton\" onClick={this.handleRemove}>\n                    Unenroll\n                </div>\n            );\n            filter = (<Select passState={this.handleFilter} default={\"Show all VARK types\"}/>);\n            if (teacherMode) {\n                unenroll = (\n                    <div className=\"teachernotice\">\n                        <p>You are the author of this course.</p>\n                        <p><b>Course ID:&nbsp;&nbsp;&nbsp;</b> {courseid}</p>\n                    </div>\n                );\n                filter = (<div />);\n            }\n            if (welcomeMsg === \"Welcome to Welcome\") {\n                welcomeMsg = \"Select or add a course on the left to get started.\"\n                showModules = false;\n                unenroll = (\n                    <div />\n                );\n                showVarkProfile = false;\n                filter = (\n                    <div />\n                );\n            }\n        }\n\n        var addModuleItem = (<div />);\n        if (teacherMode) {\n            addModuleItem = (\n                <ModuleItem\n                    name=\"New Module\"\n                    contents={[]}\n                    vark={[]}\n                    internals={[]}\n                    active=\"\"\n                    username={this.props.username}\n                    addVarkClicks={this.props.addVarkClicks}\n                    varkMode={this.state.varkselection}\n                    teacherMode={true}\n                    activeCourse={this.props.activeCourse}\n                    modules={this.props.modules}\n                />\n            );\n        }\n\n        var moduleList = (<div />);\n        if (showModules) {\n            moduleList = (\n                <div className=\"modulelist\">\n                    {\n                        Object.values(this.props.modules).map(module =>\n                            <ModuleItem\n                                name={module.title}\n                                contents={module.contents}\n                                vark={module.vark}\n                                internals={module.internals}\n                                active=\"\"\n                                username={this.props.username}\n                                addVarkClicks={this.props.addVarkClicks}\n                                varkMode={this.state.varkselection}\n                                teacherMode={teacherMode}\n                                activeCourse={this.props.activeCourse}\n                                modules={this.props.modules}\n                                firebase={this.props.firebase}\n                            />\n                        )\n                    }\n                </div>\n            );\n        }\n\n        //counts the number of each vark item in modules\n        var Vcnt = 0;\n        var Acnt = 0;\n        var Rcnt = 0;\n        var Kcnt = 0;\n        var module;\n        var varkLetter;\n        for (module of this.props.modules) {\n            for (varkLetter of module.vark) {\n                if (varkLetter===\"V\") {\n                    Vcnt++;\n                }\n                if (varkLetter===\"A\") {\n                    Acnt++;\n                }\n                if (varkLetter===\"R\") {\n                    Rcnt++;\n                }\n                if (varkLetter===\"K\") {\n                    Kcnt++;\n                }\n            }\n        }\n\n        var varkProfile = (<div />);\n        if (showVarkProfile) {\n            varkProfile = (\n                <VarkProfile \n                    Vcnt={Vcnt}\n                    Acnt={Acnt}\n                    Rcnt={Rcnt}\n                    Kcnt={Kcnt}\n                />\n            );\n        }\n\n        return (\n            <div className=\"mainpanel\">\n                <table>\n                    <tr>\n                        <td>\n                            <div className=\"courseheader\">\n                                {welcomeMsg}\n                                <br /><br />\n                                <table>\n                                    <tr>\n                                        <td>\n                                            {unenroll}\n                                        </td>\n                                        <td>\n                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                                        </td>\n                                        <td>\n                                            {filter}\n                                        </td>\n                                    </tr>\n                                </table>\n                                <br />\n                            </div>\n                        </td>\n\n                        <td className=\"rightalignandfloatdown\">\n                            {varkProfile}\n                        </td>\n                    </tr>\n                </table>\n                <br />\n                {moduleList}     \n                {addModuleItem}\n                <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br />\n            </div>\n        )\n    }\n}\n\nclass CreateForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: ''};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n\n    handleSubmit(event) {\n        this.props.createCourse(this.state.value);\n        event.preventDefault();\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Enter the name for your new course below<br /><br />\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\n                <br /><br />\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n        );\n    }\n}\n\nclass NameForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: ''};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n\n    handleSubmit(event) { //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\n        let shouldAddCourse = false;\n\n        //check that the course is available on the database. If not, throw an error to the user\n        const allCourses = JSON.parse(localStorage.getItem('courses'));\n        var needed;\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n            if (course.nclasscode === this.state.value) {\n                shouldAddCourse = true;\n                needed = course.CourseName;\n            }\n        }\n\n        if (shouldAddCourse) {\n            this.props.addCourse(needed);\n        } else {\n            alert('Sorry, class not found');\n        }\n        event.preventDefault();\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Enter the course code below<br /><br />\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\n                <br /><br />\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n        );\n    }\n}\n\nfunction CreateCoursePanel(props) {\n    return (\n        <div className=\"mainpanel\">\n            <div className=\"addcourseview\">\n                <div className=\"addcoursetitle\">\n                    <b>Create a course</b>\n                </div>\n                <CreateForm username={props.username} courses={props.courses} createCourse={props.createCourse}/>\n            </div>\n        </div>\n    );\n}\n\nfunction AddCoursePanel(props) {\n    return (\n        <div className=\"mainpanel\">\n            <div className=\"addcourseview\">\n                <div className=\"addcoursetitle\">\n                    <b>Enroll in a course</b>\n                </div>\n                <NameForm username={props.username} courses={props.courses} addCourse={props.addCourse}/>\n            </div>\n        </div>\n    );\n}\n\nclass Container extends React.Component { //the main container for everything on the screen, that also stores most global data in its state\n    constructor(props) {\n        super(props);\n\n        //bind the state setting functions to the current class\n        this.changeActiveCourse = this.changeActiveCourse.bind(this);\n        this.addCourseMode = this.addCourseMode.bind(this);\n        this.createCourseMode = this.createCourseMode.bind(this);\n\n        this.state = {\n            arrCourses: props.courses,\n            activeCourse: \"none\", //to be updated with the current open course\n            username: props.name,\n            mainPanelMode: 0, //0 means modules view (default), 1 means add-course view, 2 means create-course view\n            varkClicks: props.varkClicks,\n        }\n\n    }\n\n    changeActiveCourse(nameOfActiveCourse) {\n        this.setState({\n            mainPanelMode: 0,\n            activeCourse: nameOfActiveCourse,\n        }, () => {this.render();});\n    }\n\n    addCourseMode() { //switches main panel view to addCourseMode\n        this.setState({\n            mainPanelMode: 1\n        });\n        this.render(); //force React to rerender\n    }\n\n    createCourseMode() { //switches main panel view to createCourseMode\n        this.setState({\n            mainPanelMode: 2\n        });\n        this.render(); //force React to rerender\n    }\n\n    addCourse = (nameOfCourse) => { //actually adds the course\n        var newCourses = this.state.arrCourses.slice();\n        newCourses.push(nameOfCourse);\n        this.setState({\n            arrCourses: newCourses.slice(),\n        }, () => {this.changeActiveCourse(nameOfCourse);});\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        //console.log(Object.values(usr).slice()[2]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        //console.log(Object.values(usr).slice()[2]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            courses: newCourses.slice(),\n        });\n    }\n\n    createCourse = (nameOfCourse) => { //actually adds the course\n        alert(\"Created \" + nameOfCourse);\n        //TODO: generate classcode, make the course with nameOfCourse, add it to the db\n        var classCode = \"002\"; // <-- set this to the class code\n\n        //done for you: at the end, enroll the person in their own course by calling this.addCourse(classCode);\n        this.addCourse(classCode);\n    }\n\n    addVarkClicks = (varkCharacter) => {\n        var newVark = this.state.varkClicks.slice();\n        newVark.push(varkCharacter);\n        this.setState({\n            varkClicks: newVark.slice(),\n        });\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        //console.log(Object.values(usr).slice()[6]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        //console.log(Object.values(usr).slice()[6]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            wvarkclicks: newVark.slice(),\n        });\n    }\n\n    removeCourse = (nameOfCourse) => {\n        var newCourses = this.state.arrCourses.slice();\n        var newnewCourses = [];\n        newCourses.forEach(element => {\n            if (!(element===nameOfCourse)) {\n                newnewCourses.push(element);\n            }\n        });\n        newCourses = newnewCourses.slice();\n        this.setState({\n            arrCourses: newCourses.slice(),\n        }, () => {this.changeActiveCourse(this.state.arrCourses.slice()[0]);});\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        //console.log(Object.values(usr).slice()[2]);\n        localStorage.setItem('authUser', JSON.stringify(usr));\n        //console.log(Object.values(usr).slice()[2]);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            courses: newCourses.slice(),\n        });\n    }\n\n    getModules(name) {\n\n        const allCourses = JSON.parse(localStorage.getItem('courses')); // here is a parsed json of the course list\n        if ( name === \"none\")\n            return []\n\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\n            var course = allCourses[i];\n\n\n            if ( course.CourseName === name) { //now we've retrieved the correct course to display\n                //here we need to return all of the modules in that course in an array\n\n                var arrayOfModules = (Object.values(course.modules));\n                for (let j = 0, len2 = arrayOfModules.length; j<len2; ++j) {\n                    arrayOfModules[j].contents = (Object.values(arrayOfModules[j].contents));\n                    arrayOfModules[j].vark = (Object.values(arrayOfModules[j].vark));\n                    arrayOfModules[j].internals = (Object.values(arrayOfModules[j].internals));\n                }\n                return arrayOfModules;\n\n                // we need to convert the objects so that every internal thing is an array, as well as the whole thing, like this [ \n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                //     {\n                //         title: course.CourseName,\n                //         contents: [\"Item 1\", \"Item 2\", \"Item 3\"],\n                //         vark: ['V', \"A\", \"R\"],\n                //         internals: [\"https://www.youtube.com/watch?v=2qv_vCHZkcg&t=1689s\", \"oogwayascends.mp3\", \"In the beginning, there was darkness.\"]\n                //     },\n                // ];\n            }\n            else{\n                console.log(\"whoops\");\n            }\n        }\n    }\n\n    render() {\n        var mainpanel;\n        if (this.state.mainPanelMode===0) {\n            mainpanel = <MainPanel firebase={this.props.firebase} username={this.state.username} activeCourse={this.state.activeCourse} modules={this.getModules(this.state.activeCourse)} removeCourse={this.removeCourse} addVarkClicks={this.addVarkClicks}/>\n        } else if (this.state.mainPanelMode===1) {\n            mainpanel = <AddCoursePanel username={this.state.username} currentCourses={this.state.arrCourses} addCourse={this.addCourse}/>\n        } else if (this.state.mainPanelMode===2) {\n            mainpanel = <CreateCoursePanel username={this.state.username} currentCourses={this.state.arrCourses} createCourse={this.createCourse}/>\n        }\n        return (\n            <div className=\"App\">\n                <div className=\"container\">\n                    <div className=\"left-element\">\n                        <Sidebar\n                            username={this.state.username}\n                            activeCourse={this.state.activeCourse}\n                            arrCourses={this.state.arrCourses}\n                            changeActiveCourse={this.changeActiveCourse}\n                            addCourseMode={this.addCourseMode}\n                            createCourseMode={this.createCourseMode}\n                        />\n                    </div>\n                    <div className=\"right-element\">\n                        {mainpanel}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.state = {\n            username: Object.values(usr).slice()[4],\n            email: Object.values(usr).slice()[1],\n            courses: Object.values(usr).slice()[2],\n            varkClicks: Object.values(usr).slice()[6],\n        }\n    }\n    componentDidMount() {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        this.props.firebase.courses().on('value', snapshot => {\n            const coursesObject = snapshot.val();\n            const coursesList = Object.keys(coursesObject).map(key => ({\n                ...coursesObject[key],\n                appID: key,\n            }));\n            localStorage.setItem('courses', JSON.stringify(coursesList));\n            this.setState({\n                username: Object.values(usr).slice()[4],\n                email: Object.values(usr).slice()[1],\n                courses: Object.values(usr).slice()[2],\n\n            });\n        });\n    }\n\n    render() {\n        return ( //when login is implemented, it should create an app with the appropriate username passed in\n            <Container name={this.state.username} courses={this.state.courses} firebase={this.props.firebase} varkClicks={this.state.varkClicks} />\n        );\n    }\n}\n\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);\n"]},"metadata":{},"sourceType":"module"}