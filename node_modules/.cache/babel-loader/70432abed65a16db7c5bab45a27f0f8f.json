{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './@components/MenuItem';\n\nvar ContextMenu = function (_React$PureComponent) {\n  _inherits(ContextMenu, _React$PureComponent);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props));\n\n    _this.getItems = _this.getItems.bind(_this);\n    _this.openContextMenu = _this.openContextMenu.bind(_this);\n    _this.closeContextMenu = _this.closeContextMenu.bind(_this);\n    _this.state = {\n      target: ''\n    };\n    return _this;\n  }\n\n  ContextMenu.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var contextId = this.props.contextId;\n    var context = document.getElementById(contextId);\n    context.addEventListener('contextmenu', function (event) {\n      _this2.openContextMenu(event);\n    });\n    var menu = document.getElementById('contextMenu');\n    menu.addEventListener('mouseleave', function () {\n      var closeOnClickOut = _this2.props.closeOnClickOut;\n\n      if (!closeOnClickOut) {\n        _this2.closeContextMenu();\n      }\n    });\n    document.addEventListener('click', function (event) {\n      var closeOnClickOut = _this2.props.closeOnClickOut;\n\n      if (closeOnClickOut && !menu.contains(event.target)) {\n        event.preventDefault();\n\n        _this2.closeContextMenu();\n      }\n    });\n  };\n\n  ContextMenu.prototype.openContextMenu = function openContextMenu(event) {\n    event.preventDefault();\n    this.setState({\n      target: event.target\n    });\n    var xOffset = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);\n    var yOffset = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n    var menu = document.getElementById('contextMenu');\n    menu.style.cssText = menu.style.cssText + ('left: ' + (event.clientX + xOffset) + 'px;') + ('top: ' + (event.clientY + yOffset) + 'px;') + 'visibility: visible;';\n  };\n\n  ContextMenu.prototype.closeContextMenu = function closeContextMenu() {\n    var menu = document.getElementById('contextMenu');\n    menu.style.cssText = menu.style.cssText + 'visibility: hidden;';\n  };\n\n  ContextMenu.prototype.getItems = function getItems() {\n    var _this3 = this;\n\n    var _props = this.props,\n        items = _props.items,\n        closeOnClick = _props.closeOnClick;\n\n    if (closeOnClick) {\n      return items.map(function (item) {\n        return _extends({}, item, {\n          onClick: function onClick() {\n            _this3.closeContextMenu();\n\n            item.onClick();\n          }\n        });\n      });\n    } else {\n      return items;\n    }\n  };\n\n  ContextMenu.prototype.render = function render() {\n    return React.createElement('div', {\n      id: 'contextMenu',\n      style: {\n        \"position\": \"absolute\",\n        \"display\": \"flex\",\n        \"flexFlow\": \"column\",\n        \"border\": \"1px solid rgba(0,0,0,0.15)\",\n        \"borderRadius\": \"2px\",\n        \"boxShadow\": \"0 1px 1px 1px rgba(0,0,0,0.05)\",\n        \"padding\": \"10px 15px\",\n        \"background\": \"#f8f8f8\",\n        \"visibility\": \"hidden\"\n      }\n    }, this.getItems().map(function (item) {\n      return React.createElement(MenuItem, {\n        item: item,\n        key: item.label\n      });\n    }));\n  };\n\n  return ContextMenu;\n}(React.PureComponent);\n\nexport { ContextMenu as default };\nContextMenu.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    icon: PropTypes.string\n  })),\n  contextId: PropTypes.string.isRequired,\n  closeOnClick: PropTypes.bool\n} : {};\nContextMenu.defaultProps = {\n  items: [],\n  closeOnClick: false\n};","map":{"version":3,"sources":["/home/danielwei/Development/GitProjects/modulus/node_modules/react-context-menu/es/ContextMenu.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","PropTypes","MenuItem","ContextMenu","_React$PureComponent","props","_this","getItems","bind","openContextMenu","closeContextMenu","state","componentDidMount","_this2","contextId","context","document","getElementById","addEventListener","event","menu","closeOnClickOut","contains","preventDefault","setState","xOffset","Math","max","documentElement","scrollLeft","body","yOffset","scrollTop","style","cssText","clientX","clientY","_this3","_props","items","closeOnClick","map","item","onClick","render","createElement","id","label","PureComponent","default","propTypes","process","env","NODE_ENV","arrayOf","shape","string","isRequired","func","icon","bool","defaultProps"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport MenuItem from './@components/MenuItem';\n\nvar ContextMenu = function (_React$PureComponent) {\n  _inherits(ContextMenu, _React$PureComponent);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props));\n\n    _this.getItems = _this.getItems.bind(_this);\n    _this.openContextMenu = _this.openContextMenu.bind(_this);\n    _this.closeContextMenu = _this.closeContextMenu.bind(_this);\n\n    _this.state = {\n      target: ''\n    };\n    return _this;\n  }\n\n  ContextMenu.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var contextId = this.props.contextId;\n\n    var context = document.getElementById(contextId);\n    context.addEventListener('contextmenu', function (event) {\n      _this2.openContextMenu(event);\n    });\n\n    var menu = document.getElementById('contextMenu');\n    menu.addEventListener('mouseleave', function () {\n      var closeOnClickOut = _this2.props.closeOnClickOut;\n\n      if (!closeOnClickOut) {\n        _this2.closeContextMenu();\n      }\n    });\n\n    document.addEventListener('click', function (event) {\n      var closeOnClickOut = _this2.props.closeOnClickOut;\n\n\n      if (closeOnClickOut && !menu.contains(event.target)) {\n        event.preventDefault();\n        _this2.closeContextMenu();\n      }\n    });\n  };\n\n  ContextMenu.prototype.openContextMenu = function openContextMenu(event) {\n    event.preventDefault();\n    this.setState({ target: event.target });\n\n    var xOffset = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);\n    var yOffset = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n\n    var menu = document.getElementById('contextMenu');\n\n    menu.style.cssText = menu.style.cssText + ('left: ' + (event.clientX + xOffset) + 'px;') + ('top: ' + (event.clientY + yOffset) + 'px;') + 'visibility: visible;';\n  };\n\n  ContextMenu.prototype.closeContextMenu = function closeContextMenu() {\n    var menu = document.getElementById('contextMenu');\n    menu.style.cssText = menu.style.cssText + 'visibility: hidden;';\n  };\n\n  ContextMenu.prototype.getItems = function getItems() {\n    var _this3 = this;\n\n    var _props = this.props,\n        items = _props.items,\n        closeOnClick = _props.closeOnClick;\n\n    if (closeOnClick) {\n      return items.map(function (item) {\n        return _extends({}, item, {\n          onClick: function onClick() {\n            _this3.closeContextMenu();\n            item.onClick();\n          }\n        });\n      });\n    } else {\n      return items;\n    }\n  };\n\n  ContextMenu.prototype.render = function render() {\n    return React.createElement(\n      'div',\n      {\n        id: 'contextMenu',\n        style: { \"position\": \"absolute\", \"display\": \"flex\", \"flexFlow\": \"column\", \"border\": \"1px solid rgba(0,0,0,0.15)\", \"borderRadius\": \"2px\", \"boxShadow\": \"0 1px 1px 1px rgba(0,0,0,0.05)\", \"padding\": \"10px 15px\", \"background\": \"#f8f8f8\", \"visibility\": \"hidden\" }\n      },\n      this.getItems().map(function (item) {\n        return React.createElement(MenuItem, { item: item, key: item.label });\n      })\n    );\n  };\n\n  return ContextMenu;\n}(React.PureComponent);\n\nexport { ContextMenu as default };\n\n\nContextMenu.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    icon: PropTypes.string\n  })),\n  contextId: PropTypes.string.isRequired,\n  closeOnClick: PropTypes.bool\n} : {};\n\nContextMenu.defaultProps = {\n  items: [],\n  closeOnClick: false\n};"]},"metadata":{},"sourceType":"module"}